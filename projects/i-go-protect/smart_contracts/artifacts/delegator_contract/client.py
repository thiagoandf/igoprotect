# flake8: noqa
# fmt: off
# mypy: disable-error-code="no-any-return, no-untyped-call, misc, type-arg"
# This file was automatically generated by algokit-client-generator.
# DO NOT MODIFY IT BY HAND.
# requires: algokit-utils@^1.2.0
import base64
import dataclasses
import decimal
import typing
from abc import ABC, abstractmethod

import algokit_utils
import algosdk
from algosdk.v2client import models
from algosdk.atomic_transaction_composer import (
    AtomicTransactionComposer,
    AtomicTransactionResponse,
    SimulateAtomicTransactionResponse,
    TransactionSigner,
    TransactionWithSigner
)

_APP_SPEC_JSON = r"""{
    "hints": {
        "create(address,uint64,uint64,uint64)void": {
            "call_config": {
                "no_op": "CREATE"
            }
        },
        "set_mandatory((uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64))void": {
            "structs": {
                "val_config_man": {
                    "name": "ValConfigMan",
                    "elements": [
                        [
                            "hw_cat",
                            "uint64"
                        ],
                        [
                            "min_amt",
                            "uint64"
                        ],
                        [
                            "max_amt",
                            "uint64"
                        ],
                        [
                            "fee_setup",
                            "uint64"
                        ],
                        [
                            "fee_round",
                            "uint64"
                        ],
                        [
                            "deposit",
                            "uint64"
                        ],
                        [
                            "setup_rounds",
                            "uint64"
                        ],
                        [
                            "confirmation_rounds",
                            "uint64"
                        ],
                        [
                            "max_breach",
                            "uint64"
                        ],
                        [
                            "breach_rounds",
                            "uint64"
                        ],
                        [
                            "uptime_gar",
                            "uint64"
                        ]
                    ]
                }
            },
            "call_config": {
                "no_op": "CALL"
            }
        },
        "set_extra((byte[30],byte[70]))void": {
            "structs": {
                "val_config_extra": {
                    "name": "ValConfigExtra",
                    "elements": [
                        [
                            "name",
                            "byte[30]"
                        ],
                        [
                            "link",
                            "byte[70]"
                        ]
                    ]
                }
            },
            "call_config": {
                "no_op": "CALL"
            }
        },
        "deposit_keys(byte[32],byte[32],byte[64],uint64,uint64,uint64)uint64": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "confirm_keys(uint64,byte[32],byte[32],byte[64],uint64,uint64,uint64)uint64": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "keys_not_generated()(uint64,uint64)": {
            "structs": {
                "output": {
                    "name": "Struct2UInt64",
                    "elements": [
                        [
                            "a",
                            "uint64"
                        ],
                        [
                            "b",
                            "uint64"
                        ]
                    ]
                }
            },
            "call_config": {
                "delete_application": "CALL"
            }
        },
        "keys_not_confirmed()(uint64,uint64)": {
            "structs": {
                "output": {
                    "name": "Struct2UInt64",
                    "elements": [
                        [
                            "a",
                            "uint64"
                        ],
                        [
                            "b",
                            "uint64"
                        ]
                    ]
                }
            },
            "call_config": {
                "delete_application": "CALL"
            }
        },
        "end_contract()(uint64,uint64,uint64)": {
            "structs": {
                "output": {
                    "name": "Struct3UInt64",
                    "elements": [
                        [
                            "a",
                            "uint64"
                        ],
                        [
                            "b",
                            "uint64"
                        ],
                        [
                            "c",
                            "uint64"
                        ]
                    ]
                }
            },
            "call_config": {
                "delete_application": "CALL"
            }
        },
        "stake_limit_breach()bool": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "dereg_breach()bool": {
            "call_config": {
                "no_op": "CALL"
            }
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDEwCgpzbWFydF9jb250cmFjdHMuZGVsZWdhdG9yX2NvbnRyYWN0LmNvbnRyYWN0LkRlbGVnYXRvckNvbnRyYWN0LmFwcHJvdmFsX3Byb2dyYW06CiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYm56IG1haW5fZW50cnlwb2ludEAyCiAgICBjYWxsc3ViIF9faW5pdF9fCgptYWluX2VudHJ5cG9pbnRAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MjctMjgKICAgIC8vICMgLS0tLS0tLSBTbWFydCBjb250cmFjdCAtLS0tLS0tCiAgICAvLyBjbGFzcyBEZWxlZ2F0b3JDb250cmFjdChBUkM0Q29udHJhY3QpOgogICAgbWV0aG9kICJjcmVhdGUoYWRkcmVzcyx1aW50NjQsdWludDY0LHVpbnQ2NCl2b2lkIgogICAgbWV0aG9kICJzZXRfbWFuZGF0b3J5KCh1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0KSl2b2lkIgogICAgbWV0aG9kICJzZXRfZXh0cmEoKGJ5dGVbMzBdLGJ5dGVbNzBdKSl2b2lkIgogICAgbWV0aG9kICJkZXBvc2l0X2tleXMoYnl0ZVszMl0sYnl0ZVszMl0sYnl0ZVs2NF0sdWludDY0LHVpbnQ2NCx1aW50NjQpdWludDY0IgogICAgbWV0aG9kICJjb25maXJtX2tleXModWludDY0LGJ5dGVbMzJdLGJ5dGVbMzJdLGJ5dGVbNjRdLHVpbnQ2NCx1aW50NjQsdWludDY0KXVpbnQ2NCIKICAgIG1ldGhvZCAia2V5c19ub3RfZ2VuZXJhdGVkKCkodWludDY0LHVpbnQ2NCkiCiAgICBtZXRob2QgImtleXNfbm90X2NvbmZpcm1lZCgpKHVpbnQ2NCx1aW50NjQpIgogICAgbWV0aG9kICJlbmRfY29udHJhY3QoKSh1aW50NjQsdWludDY0LHVpbnQ2NCkiCiAgICBtZXRob2QgInN0YWtlX2xpbWl0X2JyZWFjaCgpYm9vbCIKICAgIG1ldGhvZCAiZGVyZWdfYnJlYWNoKClib29sIgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAogICAgbWF0Y2ggbWFpbl9jcmVhdGVfcm91dGVAMyBtYWluX3NldF9tYW5kYXRvcnlfcm91dGVANCBtYWluX3NldF9leHRyYV9yb3V0ZUA1IG1haW5fZGVwb3NpdF9rZXlzX3JvdXRlQDYgbWFpbl9jb25maXJtX2tleXNfcm91dGVANyBtYWluX2tleXNfbm90X2dlbmVyYXRlZF9yb3V0ZUA4IG1haW5fa2V5c19ub3RfY29uZmlybWVkX3JvdXRlQDkgbWFpbl9lbmRfY29udHJhY3Rfcm91dGVAMTAgbWFpbl9zdGFrZV9saW1pdF9icmVhY2hfcm91dGVAMTEgbWFpbl9kZXJlZ19icmVhY2hfcm91dGVAMTIKICAgIGVyciAvLyByZWplY3QgdHJhbnNhY3Rpb24KCm1haW5fY3JlYXRlX3JvdXRlQDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5Ojg0CiAgICAvLyBAYXJjNC5hYmltZXRob2QoY3JlYXRlPSJyZXF1aXJlIikKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgICEKICAgIGFzc2VydCAvLyBpcyBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyNy0yOAogICAgLy8gIyAtLS0tLS0tIFNtYXJ0IGNvbnRyYWN0IC0tLS0tLS0KICAgIC8vIGNsYXNzIERlbGVnYXRvckNvbnRyYWN0KEFSQzRDb250cmFjdCk6CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5Ojg0CiAgICAvLyBAYXJjNC5hYmltZXRob2QoY3JlYXRlPSJyZXF1aXJlIikKICAgIGNhbGxzdWIgY3JlYXRlCiAgICBpbnQgMQogICAgcmV0dXJuCgptYWluX3NldF9tYW5kYXRvcnlfcm91dGVANDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MTAzCiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGlzIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyNy0yOAogICAgLy8gIyAtLS0tLS0tIFNtYXJ0IGNvbnRyYWN0IC0tLS0tLS0KICAgIC8vIGNsYXNzIERlbGVnYXRvckNvbnRyYWN0KEFSQzRDb250cmFjdCk6CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjEwMwogICAgLy8gQGFyYzQuYWJpbWV0aG9kKCkKICAgIGNhbGxzdWIgc2V0X21hbmRhdG9yeQogICAgaW50IDEKICAgIHJldHVybgoKbWFpbl9zZXRfZXh0cmFfcm91dGVANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MTA5CiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGlzIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyNy0yOAogICAgLy8gIyAtLS0tLS0tIFNtYXJ0IGNvbnRyYWN0IC0tLS0tLS0KICAgIC8vIGNsYXNzIERlbGVnYXRvckNvbnRyYWN0KEFSQzRDb250cmFjdCk6CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjEwOQogICAgLy8gQGFyYzQuYWJpbWV0aG9kKCkKICAgIGNhbGxzdWIgc2V0X2V4dHJhCiAgICBpbnQgMQogICAgcmV0dXJuCgptYWluX2RlcG9zaXRfa2V5c19yb3V0ZUA2OgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToxMTUKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gaXMgbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjI3LTI4CiAgICAvLyAjIC0tLS0tLS0gU21hcnQgY29udHJhY3QgLS0tLS0tLQogICAgLy8gY2xhc3MgRGVsZWdhdG9yQ29udHJhY3QoQVJDNENvbnRyYWN0KToKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDQKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDUKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MTE1CiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgY2FsbHN1YiBkZXBvc2l0X2tleXMKICAgIGJ5dGUgMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludCAxCiAgICByZXR1cm4KCm1haW5fY29uZmlybV9rZXlzX3JvdXRlQDc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjE0MgogICAgLy8gQGFyYzQuYWJpbWV0aG9kKCkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBpcyBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MjctMjgKICAgIC8vICMgLS0tLS0tLSBTbWFydCBjb250cmFjdCAtLS0tLS0tCiAgICAvLyBjbGFzcyBEZWxlZ2F0b3JDb250cmFjdChBUkM0Q29udHJhY3QpOgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNwogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToxNDIKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICBjYWxsc3ViIGNvbmZpcm1fa2V5cwogICAgYnl0ZSAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50IDEKICAgIHJldHVybgoKbWFpbl9rZXlzX25vdF9nZW5lcmF0ZWRfcm91dGVAODoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MTgyCiAgICAvLyBAYXJjNC5hYmltZXRob2QoYWxsb3dfYWN0aW9ucz1bIkRlbGV0ZUFwcGxpY2F0aW9uIl0pCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICBpbnQgRGVsZXRlQXBwbGljYXRpb24KICAgID09CiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIERlbGV0ZUFwcGxpY2F0aW9uCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGlzIG5vdCBjcmVhdGluZwogICAgY2FsbHN1YiBrZXlzX25vdF9nZW5lcmF0ZWQKICAgIGJ5dGUgMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludCAxCiAgICByZXR1cm4KCm1haW5fa2V5c19ub3RfY29uZmlybWVkX3JvdXRlQDk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjE5OAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKGFsbG93X2FjdGlvbnM9WyJEZWxldGVBcHBsaWNhdGlvbiJdKQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgaW50IERlbGV0ZUFwcGxpY2F0aW9uCiAgICA9PQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBEZWxldGVBcHBsaWNhdGlvbgogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBpcyBub3QgY3JlYXRpbmcKICAgIGNhbGxzdWIga2V5c19ub3RfY29uZmlybWVkCiAgICBieXRlIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnQgMQogICAgcmV0dXJuCgptYWluX2VuZF9jb250cmFjdF9yb3V0ZUAxMDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MjE3CiAgICAvLyBAYXJjNC5hYmltZXRob2QoYWxsb3dfYWN0aW9ucz1bIkRlbGV0ZUFwcGxpY2F0aW9uIl0pCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICBpbnQgRGVsZXRlQXBwbGljYXRpb24KICAgID09CiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIERlbGV0ZUFwcGxpY2F0aW9uCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGlzIG5vdCBjcmVhdGluZwogICAgY2FsbHN1YiBlbmRfY29udHJhY3QKICAgIGJ5dGUgMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludCAxCiAgICByZXR1cm4KCm1haW5fc3Rha2VfbGltaXRfYnJlYWNoX3JvdXRlQDExOgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyNTMKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gaXMgbm90IGNyZWF0aW5nCiAgICBjYWxsc3ViIHN0YWtlX2xpbWl0X2JyZWFjaAogICAgYnl0ZSAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50IDEKICAgIHJldHVybgoKbWFpbl9kZXJlZ19icmVhY2hfcm91dGVAMTI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjI4NwogICAgLy8gQGFyYzQuYWJpbWV0aG9kKCkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBpcyBub3QgY3JlYXRpbmcKICAgIGNhbGxzdWIgZGVyZWdfYnJlYWNoCiAgICBieXRlIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnQgMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzLmRlbGVnYXRvcl9jb250cmFjdC5jb250cmFjdC5EZWxlZ2F0b3JDb250cmFjdC5jcmVhdGUoZGVsX2FjYzogYnl0ZXMsIG5vdGljZWJvYXJkX2FwcF9pZDogYnl0ZXMsIHJvdW5kX3N0YXJ0OiBieXRlcywgcm91bmRfZW5kOiBieXRlcykgLT4gdm9pZDoKY3JlYXRlOgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weTo4NC05MQogICAgLy8gQGFyYzQuYWJpbWV0aG9kKGNyZWF0ZT0icmVxdWlyZSIpCiAgICAvLyBkZWYgY3JlYXRlKAogICAgLy8gICAgIHNlbGYsCiAgICAvLyAgICAgZGVsX2FjYzogYXJjNC5BZGRyZXNzLAogICAgLy8gICAgIG5vdGljZWJvYXJkX2FwcF9pZDogYXJjNC5VSW50NjQsCiAgICAvLyAgICAgcm91bmRfc3RhcnQ6IGFyYzQuVUludDY0LAogICAgLy8gICAgIHJvdW5kX2VuZDogYXJjNC5VSW50NjQsCiAgICAvLyApIC0+IE5vbmU6CiAgICBwcm90byA0IDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6OTMtOTQKICAgIC8vICMgU2V0IGdsb2JhbCB2YXJpYWJsZXMKICAgIC8vIHNlbGYuZGVsX2FjYyA9IGRlbF9hY2MubmF0aXZlCiAgICBieXRlICJkZWxfYWNjIgogICAgZnJhbWVfZGlnIC00CiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weTo5NQogICAgLy8gc2VsZi5yb3VuZF9zdGFydCA9IHJvdW5kX3N0YXJ0Lm5hdGl2ZQogICAgZnJhbWVfZGlnIC0yCiAgICBidG9pCiAgICBieXRlICJyb3VuZF9zdGFydCIKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5Ojk2CiAgICAvLyBzZWxmLnJvdW5kX2VuZCA9IHJvdW5kX2VuZC5uYXRpdmUKICAgIGZyYW1lX2RpZyAtMQogICAgYnRvaQogICAgYnl0ZSAicm91bmRfZW5kIgogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6OTcKICAgIC8vIHNlbGYubm90aWNlYm9hcmRfYXBwX2lkID0gbm90aWNlYm9hcmRfYXBwX2lkLm5hdGl2ZQogICAgZnJhbWVfZGlnIC0zCiAgICBidG9pCiAgICBieXRlICJub3RpY2Vib2FyZF9hcHBfaWQiCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weTo5OAogICAgLy8gc2VsZi52YWxfYXBwX2lkID0gR2xvYmFsLmNhbGxlcl9hcHBsaWNhdGlvbl9pZAogICAgYnl0ZSAidmFsX2FwcF9pZCIKICAgIGdsb2JhbCBDYWxsZXJBcHBsaWNhdGlvbklECiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToxMDAKICAgIC8vIHNlbGYubGFzdF9icmVhY2hfcm91bmQgPSBzZWxmLnJvdW5kX3N0YXJ0CiAgICBpbnQgMAogICAgYnl0ZSAicm91bmRfc3RhcnQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHJvdW5kX3N0YXJ0IGV4aXN0cwogICAgYnl0ZSAibGFzdF9icmVhY2hfcm91bmQiCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToxMDEKICAgIC8vIHJldHVybgogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmRlbGVnYXRvcl9jb250cmFjdC5jb250cmFjdC5EZWxlZ2F0b3JDb250cmFjdC5zZXRfbWFuZGF0b3J5KHZhbF9jb25maWdfbWFuOiBieXRlcykgLT4gdm9pZDoKc2V0X21hbmRhdG9yeToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MTAzLTEwNAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKCkKICAgIC8vIGRlZiBzZXRfbWFuZGF0b3J5KHNlbGYsIHZhbF9jb25maWdfbWFuOiBWYWxDb25maWdNYW4pIC0+IE5vbmU6CiAgICBwcm90byAxIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MTA1CiAgICAvLyBhc3NlcnQgc2VsZi5jYWxsZWRfYnlfdmFsaWRhdG9yX2FkKCksICJOb3QgY2FsbGVkIGJ5IHZhbGlkYXRvciBhcHAuIgogICAgY2FsbHN1YiBjYWxsZWRfYnlfdmFsaWRhdG9yX2FkCiAgICBhc3NlcnQgLy8gTm90IGNhbGxlZCBieSB2YWxpZGF0b3IgYXBwLgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToxMDYKICAgIC8vIHNlbGYudmFsX2NvbmZpZ19tYW4gPSB2YWxfY29uZmlnX21hbi5jb3B5KCkKICAgIGJ5dGUgInZhbF9jb25maWdfbWFuIgogICAgZnJhbWVfZGlnIC0xCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToxMDcKICAgIC8vIHJldHVybgogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmRlbGVnYXRvcl9jb250cmFjdC5jb250cmFjdC5EZWxlZ2F0b3JDb250cmFjdC5jYWxsZWRfYnlfdmFsaWRhdG9yX2FkKCkgLT4gdWludDY0OgpjYWxsZWRfYnlfdmFsaWRhdG9yX2FkOgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weTozMTMtMzE3CiAgICAvLyAjIC0tLS0tIC0tLS0tIC0tLS0tIC0tLS0tLS0tLS0tLS0tLS0tLSAtLS0tLSAtLS0tLSAtLS0tLQogICAgLy8gIyAtLS0tLSAtLS0tLSAtLS0tLSBJbnRlcm5hbCBmdW5jdGlvbnMgLS0tLS0gLS0tLS0gLS0tLS0KICAgIC8vICMgLS0tLS0gLS0tLS0gLS0tLS0gLS0tLS0tLS0tLS0tLS0tLS0tIC0tLS0tIC0tLS0tIC0tLS0tCiAgICAvLyBAc3Vicm91dGluZQogICAgLy8gZGVmIGNhbGxlZF9ieV92YWxpZGF0b3JfYWQoc2VsZikgLT4gYm9vbDoKICAgIHByb3RvIDAgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weTozMTgKICAgIC8vIHJldHVybiBHbG9iYWwuY2FsbGVyX2FwcGxpY2F0aW9uX2lkID09IHNlbGYudmFsX2FwcF9pZAogICAgZ2xvYmFsIENhbGxlckFwcGxpY2F0aW9uSUQKICAgIGludCAwCiAgICBieXRlICJ2YWxfYXBwX2lkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayB2YWxfYXBwX2lkIGV4aXN0cwogICAgPT0KICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5kZWxlZ2F0b3JfY29udHJhY3QuY29udHJhY3QuRGVsZWdhdG9yQ29udHJhY3Quc2V0X2V4dHJhKHZhbF9jb25maWdfZXh0cmE6IGJ5dGVzKSAtPiB2b2lkOgpzZXRfZXh0cmE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjEwOS0xMTAKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICAvLyBkZWYgc2V0X2V4dHJhKHNlbGYsIHZhbF9jb25maWdfZXh0cmE6IFZhbENvbmZpZ0V4dHJhKSAtPiBOb25lOgogICAgcHJvdG8gMSAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjExMQogICAgLy8gYXNzZXJ0IHNlbGYuY2FsbGVkX2J5X3ZhbGlkYXRvcl9hZCgpLCAiTm90IGNhbGxlZCBieSB2YWxpZGF0b3IgYXBwLiIKICAgIGNhbGxzdWIgY2FsbGVkX2J5X3ZhbGlkYXRvcl9hZAogICAgYXNzZXJ0IC8vIE5vdCBjYWxsZWQgYnkgdmFsaWRhdG9yIGFwcC4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MTEyCiAgICAvLyBzZWxmLnZhbF9jb25maWdfZXh0cmEgPSB2YWxfY29uZmlnX2V4dHJhLmNvcHkoKQogICAgYnl0ZSAidmFsX2NvbmZpZ19leHRyYSIKICAgIGZyYW1lX2RpZyAtMQogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MTEzCiAgICAvLyByZXR1cm4KICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5kZWxlZ2F0b3JfY29udHJhY3QuY29udHJhY3QuRGVsZWdhdG9yQ29udHJhY3QuZGVwb3NpdF9rZXlzKHNlbF9rZXk6IGJ5dGVzLCB2b3RlX2tleTogYnl0ZXMsIHN0YXRlX3Byb29mX2tleTogYnl0ZXMsIHZvdGVfa2V5X2RpbHV0aW9uOiBieXRlcywgcm91bmRfc3RhcnQ6IGJ5dGVzLCByb3VuZF9lbmQ6IGJ5dGVzKSAtPiBieXRlczoKZGVwb3NpdF9rZXlzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToxMTUtMTI0CiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgLy8gZGVmIGRlcG9zaXRfa2V5cygKICAgIC8vICAgICBzZWxmLAogICAgLy8gICAgIHNlbF9rZXk6IFNlbEtleSwKICAgIC8vICAgICB2b3RlX2tleTogVm90ZUtleSwKICAgIC8vICAgICBzdGF0ZV9wcm9vZl9rZXk6IFN0YXRlUHJvb2ZLZXksCiAgICAvLyAgICAgdm90ZV9rZXlfZGlsdXRpb246IGFyYzQuVUludDY0LAogICAgLy8gICAgIHJvdW5kX3N0YXJ0OiBhcmM0LlVJbnQ2NCwKICAgIC8vICAgICByb3VuZF9lbmQ6IGFyYzQuVUludDY0LAogICAgLy8gKSAtPiBhcmM0LlVJbnQ2NDoKICAgIHByb3RvIDYgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToxMjYKICAgIC8vIGFzc2VydCBzZWxmLmNhbGxlZF9ieV92YWxpZGF0b3JfYWQoKSwgIk5vdCBjYWxsZWQgYnkgdmFsaWRhdG9yIGFwcC4iCiAgICBjYWxsc3ViIGNhbGxlZF9ieV92YWxpZGF0b3JfYWQKICAgIGFzc2VydCAvLyBOb3QgY2FsbGVkIGJ5IHZhbGlkYXRvciBhcHAuCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjEyNwogICAgLy8gYXNzZXJ0IHNlbGYucGFydF9rZXlzX2RlcG9zaXRlZCA9PSBGYWxzZSwgIktleXMgY2FuIGJlIHNldCBvbmx5IG9uY2UuIgogICAgaW50IDAKICAgIGJ5dGUgInBhcnRfa2V5c19kZXBvc2l0ZWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHBhcnRfa2V5c19kZXBvc2l0ZWQgZXhpc3RzCiAgICAhCiAgICBhc3NlcnQgLy8gS2V5cyBjYW4gYmUgc2V0IG9ubHkgb25jZS4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MTI5CiAgICAvLyBhc3NlcnQgc2VsZi5yb3VuZF9zdGFydCA9PSByb3VuZF9zdGFydCwgIlN0YXJ0IHJvdW5kIGlzbid0IGFzIGFncmVlZC4iCiAgICBpbnQgMAogICAgYnl0ZSAicm91bmRfc3RhcnQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHJvdW5kX3N0YXJ0IGV4aXN0cwogICAgaXRvYgogICAgZnJhbWVfZGlnIC0yCiAgICBiPT0KICAgIGFzc2VydCAvLyBTdGFydCByb3VuZCBpc24ndCBhcyBhZ3JlZWQuCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjEzMAogICAgLy8gYXNzZXJ0IHNlbGYucm91bmRfZW5kID09IHJvdW5kX2VuZCwgIkVuZCByb3VuZCBpc24ndCBhcyBhZ3JlZWQuIgogICAgaW50IDAKICAgIGJ5dGUgInJvdW5kX2VuZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgcm91bmRfZW5kIGV4aXN0cwogICAgaXRvYgogICAgZnJhbWVfZGlnIC0xCiAgICBiPT0KICAgIGFzc2VydCAvLyBFbmQgcm91bmQgaXNuJ3QgYXMgYWdyZWVkLgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToxMzIKICAgIC8vIHNlbGYudm90ZV9rZXlfZGlsdXRpb24gPSB2b3RlX2tleV9kaWx1dGlvbi5uYXRpdmUKICAgIGZyYW1lX2RpZyAtMwogICAgYnRvaQogICAgYnl0ZSAidm90ZV9rZXlfZGlsdXRpb24iCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToxMzMKICAgIC8vIHNlbGYuc2VsX2tleSA9IHNlbF9rZXkuY29weSgpCiAgICBieXRlICJzZWxfa2V5IgogICAgZnJhbWVfZGlnIC02CiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToxMzQKICAgIC8vIHNlbGYudm90ZV9rZXkgPSB2b3RlX2tleS5jb3B5KCkKICAgIGJ5dGUgInZvdGVfa2V5IgogICAgZnJhbWVfZGlnIC01CiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToxMzUKICAgIC8vIHNlbGYuc3RhdGVfcHJvb2Zfa2V5ID0gc3RhdGVfcHJvb2Zfa2V5LmNvcHkoKQogICAgYnl0ZSAic3RhdGVfcHJvb2Zfa2V5IgogICAgZnJhbWVfZGlnIC00CiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToxMzcKICAgIC8vIHNlbGYucGFydF9rZXlzX2RlcG9zaXRlZCA9IFRydWUKICAgIGJ5dGUgInBhcnRfa2V5c19kZXBvc2l0ZWQiCiAgICBpbnQgMQogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MTM5LTE0MAogICAgLy8gIyBSZXR1cm4gdGhlIGFncmVlZCBmZWUgZm9yIHNldHRpbmcgdXAgdGhlIHZhbGlkYXRvcgogICAgLy8gcmV0dXJuIHNlbGYudmFsX2NvbmZpZ19tYW4uZmVlX3NldHVwCiAgICBpbnQgMAogICAgYnl0ZSAidmFsX2NvbmZpZ19tYW4iCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHZhbF9jb25maWdfbWFuIGV4aXN0cwogICAgZXh0cmFjdCAyNCA4CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMuZGVsZWdhdG9yX2NvbnRyYWN0LmNvbnRyYWN0LkRlbGVnYXRvckNvbnRyYWN0LmNvbmZpcm1fa2V5cyhmZWVfb3BlcmF0aW9uX3BheW1lbnRfYW1vdW50OiBieXRlcywgc2VsX2tleTogYnl0ZXMsIHZvdGVfa2V5OiBieXRlcywgc3RhdGVfcHJvb2Zfa2V5OiBieXRlcywgdm90ZV9rZXlfZGlsdXRpb246IGJ5dGVzLCByb3VuZF9zdGFydDogYnl0ZXMsIHJvdW5kX2VuZDogYnl0ZXMpIC0+IGJ5dGVzOgpjb25maXJtX2tleXM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjE0Mi0xNTIKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICAvLyBkZWYgY29uZmlybV9rZXlzKAogICAgLy8gICAgIHNlbGYsCiAgICAvLyAgICAgZmVlX29wZXJhdGlvbl9wYXltZW50X2Ftb3VudDogYXJjNC5VSW50NjQsCiAgICAvLyAgICAgc2VsX2tleTogU2VsS2V5LAogICAgLy8gICAgIHZvdGVfa2V5OiBWb3RlS2V5LAogICAgLy8gICAgIHN0YXRlX3Byb29mX2tleTogU3RhdGVQcm9vZktleSwKICAgIC8vICAgICB2b3RlX2tleV9kaWx1dGlvbjogYXJjNC5VSW50NjQsCiAgICAvLyAgICAgcm91bmRfc3RhcnQ6IGFyYzQuVUludDY0LAogICAgLy8gICAgIHJvdW5kX2VuZDogYXJjNC5VSW50NjQsCiAgICAvLyApIC0+IGFyYzQuVUludDY0OgogICAgcHJvdG8gNyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjE1NAogICAgLy8gYXNzZXJ0IHNlbGYuY2FsbGVkX2J5X3ZhbGlkYXRvcl9hZCgpLCAiTm90IGNhbGxlZCBieSB2YWxpZGF0b3IgYXBwLiIKICAgIGNhbGxzdWIgY2FsbGVkX2J5X3ZhbGlkYXRvcl9hZAogICAgYXNzZXJ0IC8vIE5vdCBjYWxsZWQgYnkgdmFsaWRhdG9yIGFwcC4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MTU3CiAgICAvLyBzZWxmLnBhcnRfa2V5c19kZXBvc2l0ZWQgPT0gVHJ1ZQogICAgaW50IDAKICAgIGJ5dGUgInBhcnRfa2V5c19kZXBvc2l0ZWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHBhcnRfa2V5c19kZXBvc2l0ZWQgZXhpc3RzCiAgICBpbnQgMQogICAgPT0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MTU2LTE1OAogICAgLy8gYXNzZXJ0ICgKICAgIC8vICAgICBzZWxmLnBhcnRfa2V5c19kZXBvc2l0ZWQgPT0gVHJ1ZQogICAgLy8gKSwgIktleXMgY2FuJ3QgYmUgYWNjZXB0ZWQgaWYgdGhleSBoYXZlbid0IGJlZW4gZGVwb3NpdGVkLiIKICAgIGFzc2VydCAvLyBLZXlzIGNhbid0IGJlIGFjY2VwdGVkIGlmIHRoZXkgaGF2ZW4ndCBiZWVuIGRlcG9zaXRlZC4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MTYxCiAgICAvLyBzZWxmLnJvdW5kX3N0YXJ0IDwgR2xvYmFsLnJvdW5kCiAgICBpbnQgMAogICAgYnl0ZSAicm91bmRfc3RhcnQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHJvdW5kX3N0YXJ0IGV4aXN0cwogICAgZ2xvYmFsIFJvdW5kCiAgICA8CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjE2MC0xNjIKICAgIC8vIGFzc2VydCAoCiAgICAvLyAgICAgc2VsZi5yb3VuZF9zdGFydCA8IEdsb2JhbC5yb3VuZAogICAgLy8gKSwgIktleXMgY2FuJ3QgYmUgY29uZmlybWVkIGZvciBmdXR1cmUgKHJlcXVpcmVtZW50IG9mIGNvbnNlbnN1cyBwcm90b2NvbCkuIgogICAgYXNzZXJ0IC8vIEtleXMgY2FuJ3QgYmUgY29uZmlybWVkIGZvciBmdXR1cmUgKHJlcXVpcmVtZW50IG9mIGNvbnNlbnN1cyBwcm90b2NvbCkuCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjE2NC0xNjUKICAgIC8vICMgQ2hlY2sgaWYga2V5IHJlZyBwYXJhbWV0ZXJzIGFyZSB0aGUgc2FtZSBhcyB3ZXJlIGRlcG9zaXRlZAogICAgLy8gYXNzZXJ0IHNlbF9rZXkgPT0gc2VsZi5zZWxfa2V5LCAiU2VsZWN0aW9uIGtleSIKICAgIGludCAwCiAgICBieXRlICJzZWxfa2V5IgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBzZWxfa2V5IGV4aXN0cwogICAgZnJhbWVfZGlnIC02CiAgICA9PQogICAgYXNzZXJ0IC8vIFNlbGVjdGlvbiBrZXkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MTY2CiAgICAvLyBhc3NlcnQgdm90ZV9rZXkgPT0gc2VsZi52b3RlX2tleSwgIlZvdGUga2V5IgogICAgaW50IDAKICAgIGJ5dGUgInZvdGVfa2V5IgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayB2b3RlX2tleSBleGlzdHMKICAgIGZyYW1lX2RpZyAtNQogICAgPT0KICAgIGFzc2VydCAvLyBWb3RlIGtleQogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToxNjcKICAgIC8vIGFzc2VydCBzdGF0ZV9wcm9vZl9rZXkgPT0gc2VsZi5zdGF0ZV9wcm9vZl9rZXksICJTdGF0ZSBwcm9vZiBrZXkiCiAgICBpbnQgMAogICAgYnl0ZSAic3RhdGVfcHJvb2Zfa2V5IgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBzdGF0ZV9wcm9vZl9rZXkgZXhpc3RzCiAgICBmcmFtZV9kaWcgLTQKICAgID09CiAgICBhc3NlcnQgLy8gU3RhdGUgcHJvb2Yga2V5CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjE2OAogICAgLy8gYXNzZXJ0IHZvdGVfa2V5X2RpbHV0aW9uID09IHNlbGYudm90ZV9rZXlfZGlsdXRpb24sICJWb3RlIGtleSBkaWx1dGlvbiIKICAgIGludCAwCiAgICBieXRlICJ2b3RlX2tleV9kaWx1dGlvbiIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgdm90ZV9rZXlfZGlsdXRpb24gZXhpc3RzCiAgICBpdG9iCiAgICBmcmFtZV9kaWcgLTMKICAgIGI9PQogICAgYXNzZXJ0IC8vIFZvdGUga2V5IGRpbHV0aW9uCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjE2OQogICAgLy8gYXNzZXJ0IHJvdW5kX3N0YXJ0ID09IHNlbGYucm91bmRfc3RhcnQsICJSb3VuZCBzdGFydCIKICAgIGludCAwCiAgICBieXRlICJyb3VuZF9zdGFydCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgcm91bmRfc3RhcnQgZXhpc3RzCiAgICBpdG9iCiAgICBmcmFtZV9kaWcgLTIKICAgIGI9PQogICAgYXNzZXJ0IC8vIFJvdW5kIHN0YXJ0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjE3MAogICAgLy8gYXNzZXJ0IHJvdW5kX2VuZCA9PSBzZWxmLnJvdW5kX2VuZCwgIlJvdW5kIGVuZCIKICAgIGludCAwCiAgICBieXRlICJyb3VuZF9lbmQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHJvdW5kX2VuZCBleGlzdHMKICAgIGl0b2IKICAgIGZyYW1lX2RpZyAtMQogICAgYj09CiAgICBhc3NlcnQgLy8gUm91bmQgZW5kCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjE3Mi0xNzMKICAgIC8vICMgQXNzZXJ0IGNvcnJlY3QgYW1vdW50IG9mIG9wZXJhdGlvbmFsIGZlZSB3YXMgcGFpZCB0byB0aGUgbm90aWNlYm9hcmQgKHJlY2VpdmVyIGNoZWNrZWQgaW4gTm90aWNlYm9hcmQpCiAgICAvLyBhc3NlcnQgZmVlX29wZXJhdGlvbl9wYXltZW50X2Ftb3VudCA9PSBzZWxmLnZhbF9jb25maWdfbWFuLmZlZV9yb3VuZC5uYXRpdmUgKiAoCiAgICBpbnQgMAogICAgYnl0ZSAidmFsX2NvbmZpZ19tYW4iCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHZhbF9jb25maWdfbWFuIGV4aXN0cwogICAgZXh0cmFjdCAzMiA4CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjE3NAogICAgLy8gc2VsZi5yb3VuZF9lbmQgLSBzZWxmLnJvdW5kX3N0YXJ0CiAgICBpbnQgMAogICAgYnl0ZSAicm91bmRfZW5kIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayByb3VuZF9lbmQgZXhpc3RzCiAgICBpbnQgMAogICAgYnl0ZSAicm91bmRfc3RhcnQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHJvdW5kX3N0YXJ0IGV4aXN0cwogICAgLQogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToxNzItMTc1CiAgICAvLyAjIEFzc2VydCBjb3JyZWN0IGFtb3VudCBvZiBvcGVyYXRpb25hbCBmZWUgd2FzIHBhaWQgdG8gdGhlIG5vdGljZWJvYXJkIChyZWNlaXZlciBjaGVja2VkIGluIE5vdGljZWJvYXJkKQogICAgLy8gYXNzZXJ0IGZlZV9vcGVyYXRpb25fcGF5bWVudF9hbW91bnQgPT0gc2VsZi52YWxfY29uZmlnX21hbi5mZWVfcm91bmQubmF0aXZlICogKAogICAgLy8gICAgIHNlbGYucm91bmRfZW5kIC0gc2VsZi5yb3VuZF9zdGFydAogICAgLy8gKSwgIk9wZXJhdGlvbmFsIGZlZSB3YXMgaW5zdWZmaWNpZW50LiIKICAgICoKICAgIGl0b2IKICAgIGZyYW1lX2RpZyAtNwogICAgYj09CiAgICBhc3NlcnQgLy8gT3BlcmF0aW9uYWwgZmVlIHdhcyBpbnN1ZmZpY2llbnQuCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjE3NwogICAgLy8gc2VsZi5rZXlzX2NvbmZpcm1lZCA9IFRydWUKICAgIGJ5dGUgImtleXNfY29uZmlybWVkIgogICAgaW50IDEKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjE3OS0xODAKICAgIC8vICMgUmV0dXJuIGVhcm5lZCBhZ3JlZWQgc2V0dXAgZmVlCiAgICAvLyByZXR1cm4gc2VsZi52YWxfY29uZmlnX21hbi5mZWVfc2V0dXAKICAgIGludCAwCiAgICBieXRlICJ2YWxfY29uZmlnX21hbiIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgdmFsX2NvbmZpZ19tYW4gZXhpc3RzCiAgICBleHRyYWN0IDI0IDgKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5kZWxlZ2F0b3JfY29udHJhY3QuY29udHJhY3QuRGVsZWdhdG9yQ29udHJhY3Qua2V5c19ub3RfZ2VuZXJhdGVkKCkgLT4gYnl0ZXM6CmtleXNfbm90X2dlbmVyYXRlZDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MTgyLTE4MwogICAgLy8gQGFyYzQuYWJpbWV0aG9kKGFsbG93X2FjdGlvbnM9WyJEZWxldGVBcHBsaWNhdGlvbiJdKQogICAgLy8gZGVmIGtleXNfbm90X2dlbmVyYXRlZChzZWxmKSAtPiBTdHJ1Y3QyVUludDY0OgogICAgcHJvdG8gMCAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjE4NAogICAgLy8gYXNzZXJ0IHNlbGYuY2FsbGVkX2J5X3ZhbGlkYXRvcl9hZCgpLCAiTm90IGNhbGxlZCBieSB2YWxpZGF0b3IgYXBwLiIKICAgIGNhbGxzdWIgY2FsbGVkX2J5X3ZhbGlkYXRvcl9hZAogICAgYXNzZXJ0IC8vIE5vdCBjYWxsZWQgYnkgdmFsaWRhdG9yIGFwcC4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MTg2CiAgICAvLyBhc3NlcnQgbm90IHNlbGYucGFydF9rZXlzX2RlcG9zaXRlZCwgIktleXMgd2VyZSBkZXBvc2l0ZWQuIgogICAgaW50IDAKICAgIGJ5dGUgInBhcnRfa2V5c19kZXBvc2l0ZWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHBhcnRfa2V5c19kZXBvc2l0ZWQgZXhpc3RzCiAgICAhCiAgICBhc3NlcnQgLy8gS2V5cyB3ZXJlIGRlcG9zaXRlZC4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MTg5CiAgICAvLyBHbG9iYWwucm91bmQgPiBzZWxmLnJvdW5kX3N0YXJ0ICsgc2VsZi52YWxfY29uZmlnX21hbi5zZXR1cF9yb3VuZHMubmF0aXZlCiAgICBnbG9iYWwgUm91bmQKICAgIGludCAwCiAgICBieXRlICJyb3VuZF9zdGFydCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgcm91bmRfc3RhcnQgZXhpc3RzCiAgICBpbnQgMAogICAgYnl0ZSAidmFsX2NvbmZpZ19tYW4iCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHZhbF9jb25maWdfbWFuIGV4aXN0cwogICAgZXh0cmFjdCA0OCA4CiAgICBidG9pCiAgICArCiAgICA+CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjE4OC0xOTAKICAgIC8vIGFzc2VydCAoCiAgICAvLyAgICAgR2xvYmFsLnJvdW5kID4gc2VsZi5yb3VuZF9zdGFydCArIHNlbGYudmFsX2NvbmZpZ19tYW4uc2V0dXBfcm91bmRzLm5hdGl2ZQogICAgLy8gKSwgIk9ubHkgaWYgZW5vdWdoIHRpbWUgaGFzIHBhc3NlZCBzaW5jZSBjb250cmFjdCBzdGFydCwgY2FuIGl0IGJlIGNsYWltZWQgdGhhdCBrZXlzIGhhdmVuJ3QgYmVlbiBnZW5lcmF0ZWQuIgogICAgYXNzZXJ0IC8vIE9ubHkgaWYgZW5vdWdoIHRpbWUgaGFzIHBhc3NlZCBzaW5jZSBjb250cmFjdCBzdGFydCwgY2FuIGl0IGJlIGNsYWltZWQgdGhhdCBrZXlzIGhhdmVuJ3QgYmVlbiBnZW5lcmF0ZWQuCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjE5NAogICAgLy8gc2VsZi52YWxfY29uZmlnX21hbi5kZXBvc2l0LAogICAgaW50IDAKICAgIGJ5dGUgInZhbF9jb25maWdfbWFuIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayB2YWxfY29uZmlnX21hbiBleGlzdHMKICAgIGV4dHJhY3QgNDAgOAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToxOTUKICAgIC8vIHNlbGYudmFsX2NvbmZpZ19tYW4uZmVlX3NldHVwLAogICAgaW50IDAKICAgIGJ5dGUgInZhbF9jb25maWdfbWFuIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayB2YWxfY29uZmlnX21hbiBleGlzdHMKICAgIGV4dHJhY3QgMjQgOAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToxOTItMTk2CiAgICAvLyAjIFJldHVybiBhZ3JlZWQgZGVwb3NpdCBhbmQgc2V0dXAgZmVlCiAgICAvLyByZXR1cm4gU3RydWN0MlVJbnQ2NCgKICAgIC8vICAgICBzZWxmLnZhbF9jb25maWdfbWFuLmRlcG9zaXQsCiAgICAvLyAgICAgc2VsZi52YWxfY29uZmlnX21hbi5mZWVfc2V0dXAsCiAgICAvLyApCiAgICBjb25jYXQKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5kZWxlZ2F0b3JfY29udHJhY3QuY29udHJhY3QuRGVsZWdhdG9yQ29udHJhY3Qua2V5c19ub3RfY29uZmlybWVkKCkgLT4gYnl0ZXM6CmtleXNfbm90X2NvbmZpcm1lZDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MTk4LTE5OQogICAgLy8gQGFyYzQuYWJpbWV0aG9kKGFsbG93X2FjdGlvbnM9WyJEZWxldGVBcHBsaWNhdGlvbiJdKQogICAgLy8gZGVmIGtleXNfbm90X2NvbmZpcm1lZChzZWxmKSAtPiBTdHJ1Y3QyVUludDY0OgogICAgcHJvdG8gMCAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjIwMAogICAgLy8gYXNzZXJ0IHNlbGYuY2FsbGVkX2J5X3ZhbGlkYXRvcl9hZCgpLCAiTm90IGNhbGxlZCBieSB2YWxpZGF0b3IgYXBwLiIKICAgIGNhbGxzdWIgY2FsbGVkX2J5X3ZhbGlkYXRvcl9hZAogICAgYXNzZXJ0IC8vIE5vdCBjYWxsZWQgYnkgdmFsaWRhdG9yIGFwcC4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MjAyCiAgICAvLyBhc3NlcnQgbm90IHNlbGYua2V5c19jb25maXJtZWQsICJLZXlzIGhhdmVuJ3QgYmVlbiBjb25maXJtZWQuIgogICAgaW50IDAKICAgIGJ5dGUgImtleXNfY29uZmlybWVkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBrZXlzX2NvbmZpcm1lZCBleGlzdHMKICAgICEKICAgIGFzc2VydCAvLyBLZXlzIGhhdmVuJ3QgYmVlbiBjb25maXJtZWQuCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjIwNQogICAgLy8gR2xvYmFsLnJvdW5kCiAgICBnbG9iYWwgUm91bmQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MjA2CiAgICAvLyA+IHNlbGYucm91bmRfc3RhcnQKICAgIGludCAwCiAgICBieXRlICJyb3VuZF9zdGFydCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgcm91bmRfc3RhcnQgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjIwNwogICAgLy8gKyBzZWxmLnZhbF9jb25maWdfbWFuLnNldHVwX3JvdW5kcy5uYXRpdmUKICAgIGludCAwCiAgICBieXRlICJ2YWxfY29uZmlnX21hbiIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgdmFsX2NvbmZpZ19tYW4gZXhpc3RzCiAgICBleHRyYWN0IDQ4IDgKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MjA2LTIwNwogICAgLy8gPiBzZWxmLnJvdW5kX3N0YXJ0CiAgICAvLyArIHNlbGYudmFsX2NvbmZpZ19tYW4uc2V0dXBfcm91bmRzLm5hdGl2ZQogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyMDgKICAgIC8vICsgc2VsZi52YWxfY29uZmlnX21hbi5jb25maXJtYXRpb25fcm91bmRzLm5hdGl2ZQogICAgaW50IDAKICAgIGJ5dGUgInZhbF9jb25maWdfbWFuIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayB2YWxfY29uZmlnX21hbiBleGlzdHMKICAgIGV4dHJhY3QgNTYgOAogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyMDYtMjA4CiAgICAvLyA+IHNlbGYucm91bmRfc3RhcnQKICAgIC8vICsgc2VsZi52YWxfY29uZmlnX21hbi5zZXR1cF9yb3VuZHMubmF0aXZlCiAgICAvLyArIHNlbGYudmFsX2NvbmZpZ19tYW4uY29uZmlybWF0aW9uX3JvdW5kcy5uYXRpdmUKICAgICsKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MjA1LTIwOAogICAgLy8gR2xvYmFsLnJvdW5kCiAgICAvLyA+IHNlbGYucm91bmRfc3RhcnQKICAgIC8vICsgc2VsZi52YWxfY29uZmlnX21hbi5zZXR1cF9yb3VuZHMubmF0aXZlCiAgICAvLyArIHNlbGYudmFsX2NvbmZpZ19tYW4uY29uZmlybWF0aW9uX3JvdW5kcy5uYXRpdmUKICAgID4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MjA0LTIwOQogICAgLy8gYXNzZXJ0ICgKICAgIC8vICAgICBHbG9iYWwucm91bmQKICAgIC8vICAgICA+IHNlbGYucm91bmRfc3RhcnQKICAgIC8vICAgICArIHNlbGYudmFsX2NvbmZpZ19tYW4uc2V0dXBfcm91bmRzLm5hdGl2ZQogICAgLy8gICAgICsgc2VsZi52YWxfY29uZmlnX21hbi5jb25maXJtYXRpb25fcm91bmRzLm5hdGl2ZQogICAgLy8gKSwgIk9ubHkgaWYgZW5vdWdoIHRpbWUgaGFzIHBhc3NlZCBzaW5jZSBjb250cmFjdCBzdGFydCwgY2FuIGl0IGJlIGNsYWltZWQgdGhhdCBrZXlzIGhhdmVuJ3QgYmVlbiBjb25maXJtZWQuIgogICAgYXNzZXJ0IC8vIE9ubHkgaWYgZW5vdWdoIHRpbWUgaGFzIHBhc3NlZCBzaW5jZSBjb250cmFjdCBzdGFydCwgY2FuIGl0IGJlIGNsYWltZWQgdGhhdCBrZXlzIGhhdmVuJ3QgYmVlbiBjb25maXJtZWQuCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjIxMwogICAgLy8gc2VsZi52YWxfY29uZmlnX21hbi5kZXBvc2l0LAogICAgaW50IDAKICAgIGJ5dGUgInZhbF9jb25maWdfbWFuIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayB2YWxfY29uZmlnX21hbiBleGlzdHMKICAgIGV4dHJhY3QgNDAgOAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyMTQKICAgIC8vIHNlbGYudmFsX2NvbmZpZ19tYW4uZmVlX3NldHVwLAogICAgaW50IDAKICAgIGJ5dGUgInZhbF9jb25maWdfbWFuIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayB2YWxfY29uZmlnX21hbiBleGlzdHMKICAgIGV4dHJhY3QgMjQgOAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyMTEtMjE1CiAgICAvLyAjIFJldHVybiBhZ3JlZWQgZGVwb3NpdCBhbmQgc2V0dXAgZmVlCiAgICAvLyByZXR1cm4gU3RydWN0MlVJbnQ2NCgKICAgIC8vICAgICBzZWxmLnZhbF9jb25maWdfbWFuLmRlcG9zaXQsCiAgICAvLyAgICAgc2VsZi52YWxfY29uZmlnX21hbi5mZWVfc2V0dXAsCiAgICAvLyApCiAgICBjb25jYXQKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5kZWxlZ2F0b3JfY29udHJhY3QuY29udHJhY3QuRGVsZWdhdG9yQ29udHJhY3QuZW5kX2NvbnRyYWN0KCkgLT4gYnl0ZXM6CmVuZF9jb250cmFjdDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MjE3LTIxOAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKGFsbG93X2FjdGlvbnM9WyJEZWxldGVBcHBsaWNhdGlvbiJdKQogICAgLy8gZGVmIGVuZF9jb250cmFjdChzZWxmKSAtPiBTdHJ1Y3QzVUludDY0OgogICAgcHJvdG8gMCAxCiAgICBieXRlICIiCiAgICBkdXBuIDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MjE5CiAgICAvLyBhc3NlcnQgc2VsZi5jYWxsZWRfYnlfdmFsaWRhdG9yX2FkKCksICJOb3QgY2FsbGVkIGJ5IHZhbGlkYXRvciBhcHAuIgogICAgY2FsbHN1YiBjYWxsZWRfYnlfdmFsaWRhdG9yX2FkCiAgICBhc3NlcnQgLy8gTm90IGNhbGxlZCBieSB2YWxpZGF0b3IgYXBwLgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyMjIKICAgIC8vIHNlbGYucGFydF9rZXlzX2RlcG9zaXRlZAogICAgaW50IDAKICAgIGJ5dGUgInBhcnRfa2V5c19kZXBvc2l0ZWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHBhcnRfa2V5c19kZXBvc2l0ZWQgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjIyMS0yMjMKICAgIC8vIGFzc2VydCAoCiAgICAvLyAgICAgc2VsZi5wYXJ0X2tleXNfZGVwb3NpdGVkCiAgICAvLyApLCAiQ2FuJ3QgZW5kIGNvbnRyYWN0IHRoaXMgd2F5IGlmIGtleXMgaGF2ZW4ndCB5ZXQgYmVlbiBkZXBvc2l0ZWQuIgogICAgYXNzZXJ0IC8vIENhbid0IGVuZCBjb250cmFjdCB0aGlzIHdheSBpZiBrZXlzIGhhdmVuJ3QgeWV0IGJlZW4gZGVwb3NpdGVkLgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyMjUKICAgIC8vIGFzc2VydCBzZWxmLmtleXNfY29uZmlybWVkLCAiQ2FuJ3QgZW5kIGNvbnRyYWN0IGlmIGtleXMgaGF2ZW4ndCBiZWVuIGNvbmZpcm1lZC4iCiAgICBpbnQgMAogICAgYnl0ZSAia2V5c19jb25maXJtZWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIGtleXNfY29uZmlybWVkIGV4aXN0cwogICAgYXNzZXJ0IC8vIENhbid0IGVuZCBjb250cmFjdCBpZiBrZXlzIGhhdmVuJ3QgYmVlbiBjb25maXJtZWQuCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjIyNy0yMjgKICAgIC8vICMgQ2FsY3VsYXRlIGFueSByZWZ1bmQgYW1vdW50IGFuZCB2YWxpZGF0b3IgZWFybmluZ3MKICAgIC8vIGlmIEdsb2JhbC5yb3VuZCA+IHNlbGYucm91bmRfZW5kOgogICAgZ2xvYmFsIFJvdW5kCiAgICBpbnQgMAogICAgYnl0ZSAicm91bmRfZW5kIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayByb3VuZF9lbmQgZXhpc3RzCiAgICA+CiAgICBieiBlbmRfY29udHJhY3RfZWxzZV9ib2R5QDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MjI5LTIzMAogICAgLy8gIyBDb250cmFjdCBoYXMgc3VjY2Vzc2Z1bGx5IGVuZGVkCiAgICAvLyByb3VuZHNfcmVtYWluID0gVUludDY0KDApCiAgICBpbnQgMAogICAgYiBlbmRfY29udHJhY3RfYWZ0ZXJfaWZfZWxzZUAzCgplbmRfY29udHJhY3RfZWxzZV9ib2R5QDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjIzMi0yMzMKICAgIC8vICMgQ29udHJhY3QgaGFzIHByZW1hdHVyZWx5IGVuZGVkCiAgICAvLyByb3VuZHNfcmVtYWluID0gc2VsZi5yb3VuZF9lbmQgLSBHbG9iYWwucm91bmQKICAgIGludCAwCiAgICBieXRlICJyb3VuZF9lbmQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHJvdW5kX2VuZCBleGlzdHMKICAgIGdsb2JhbCBSb3VuZAogICAgLQoKZW5kX2NvbnRyYWN0X2FmdGVyX2lmX2Vsc2VAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MjM1CiAgICAvLyBkZXBvc2l0ID0gc2VsZi52YWxfY29uZmlnX21hbi5kZXBvc2l0Lm5hdGl2ZQogICAgaW50IDAKICAgIGJ5dGUgInZhbF9jb25maWdfbWFuIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayB2YWxfY29uZmlnX21hbiBleGlzdHMKICAgIGV4dHJhY3QgNDAgOAogICAgYnRvaQogICAgZHVwCiAgICBmcmFtZV9idXJ5IDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MjM2CiAgICAvLyByZWZ1bmRfYW1vdW50ID0gc2VsZi52YWxfY29uZmlnX21hbi5mZWVfcm91bmQubmF0aXZlICogcm91bmRzX3JlbWFpbgogICAgaW50IDAKICAgIGJ5dGUgInZhbF9jb25maWdfbWFuIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayB2YWxfY29uZmlnX21hbiBleGlzdHMKICAgIGV4dHJhY3QgMzIgOAogICAgYnRvaQogICAgdW5jb3ZlciAyCiAgICBkdXAKICAgIGNvdmVyIDIKICAgICoKICAgIGZyYW1lX2J1cnkgMgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyMzcKICAgIC8vIHZhbGlkYXRvcl9lYXJucyA9IHNlbGYudmFsX2NvbmZpZ19tYW4uZmVlX3JvdW5kLm5hdGl2ZSAqICgKICAgIGludCAwCiAgICBieXRlICJ2YWxfY29uZmlnX21hbiIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgdmFsX2NvbmZpZ19tYW4gZXhpc3RzCiAgICBleHRyYWN0IDMyIDgKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MjM4CiAgICAvLyBzZWxmLnJvdW5kX2VuZCAtIHNlbGYucm91bmRfc3RhcnQgLSByb3VuZHNfcmVtYWluCiAgICBpbnQgMAogICAgYnl0ZSAicm91bmRfZW5kIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayByb3VuZF9lbmQgZXhpc3RzCiAgICBpbnQgMAogICAgYnl0ZSAicm91bmRfc3RhcnQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHJvdW5kX3N0YXJ0IGV4aXN0cwogICAgLQogICAgdW5jb3ZlciAyCiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjIzNy0yMzkKICAgIC8vIHZhbGlkYXRvcl9lYXJucyA9IHNlbGYudmFsX2NvbmZpZ19tYW4uZmVlX3JvdW5kLm5hdGl2ZSAqICgKICAgIC8vICAgICBzZWxmLnJvdW5kX2VuZCAtIHNlbGYucm91bmRfc3RhcnQgLSByb3VuZHNfcmVtYWluCiAgICAvLyApCiAgICAqCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMwogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyNDEtMjQyCiAgICAvLyAjIElmIGNvbnRyYWN0IHdhcyBicmVhY2hlZCwgIHRoZSB2YWxpZGF0b3IgZ2V0cyBhbHNvIHRoZSBkZXBvc2l0CiAgICAvLyBpZiBzZWxmLmNvbnRyYWN0X2JyZWFjaGVkOgogICAgaW50IDAKICAgIGJ5dGUgImNvbnRyYWN0X2JyZWFjaGVkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBjb250cmFjdF9icmVhY2hlZCBleGlzdHMKICAgIHN3YXAKICAgIGZyYW1lX2J1cnkgNAogICAgc3dhcAogICAgZnJhbWVfYnVyeSAxCiAgICBieiBlbmRfY29udHJhY3RfYWZ0ZXJfaWZfZWxzZUA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjI0MwogICAgLy8gdmFsaWRhdG9yX2Vhcm5zICs9IGRlcG9zaXQKICAgIGZyYW1lX2RpZyAzCiAgICBmcmFtZV9kaWcgMAogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyNDQKICAgIC8vIGRlcG9zaXQgPSBVSW50NjQoMCkKICAgIGludCAwCiAgICBmcmFtZV9idXJ5IDEKICAgIGZyYW1lX2J1cnkgNAoKZW5kX2NvbnRyYWN0X2FmdGVyX2lmX2Vsc2VANToKICAgIGZyYW1lX2RpZyA0CiAgICBmcmFtZV9kaWcgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyNDgKICAgIC8vIGFyYzQuVUludDY0KGRlcG9zaXQpLAogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyNDkKICAgIC8vIGFyYzQuVUludDY0KHJlZnVuZF9hbW91bnQpLAogICAgZnJhbWVfZGlnIDIKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MjUwCiAgICAvLyBhcmM0LlVJbnQ2NCh2YWxpZGF0b3JfZWFybnMpLAogICAgdW5jb3ZlciAyCiAgICBpdG9iCiAgICBzd2FwCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjI0Ni0yNTEKICAgIC8vICMgUmV0dXJuIGFncmVlZCBkZXBvc2l0LCB1bnVzZWQgb3BlcmF0aW9uYWwgZmVlLCBhbmQgdXNlZCBvcGVyYXRpb25hbCBmZWUgKGkuZS4gdmFsaWRhdG9yIGVhcm5pbmcpCiAgICAvLyByZXR1cm4gU3RydWN0M1VJbnQ2NCgKICAgIC8vICAgICBhcmM0LlVJbnQ2NChkZXBvc2l0KSwKICAgIC8vICAgICBhcmM0LlVJbnQ2NChyZWZ1bmRfYW1vdW50KSwKICAgIC8vICAgICBhcmM0LlVJbnQ2NCh2YWxpZGF0b3JfZWFybnMpLAogICAgLy8gKQogICAgdW5jb3ZlciAyCiAgICBzd2FwCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMuZGVsZWdhdG9yX2NvbnRyYWN0LmNvbnRyYWN0LkRlbGVnYXRvckNvbnRyYWN0LnN0YWtlX2xpbWl0X2JyZWFjaCgpIC0+IGJ5dGVzOgpzdGFrZV9saW1pdF9icmVhY2g6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjI1My0yNTYKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICAvLyBkZWYgc3Rha2VfbGltaXRfYnJlYWNoKAogICAgLy8gICAgIHNlbGYsCiAgICAvLyApIC0+IGFyYzQuQm9vbDoKICAgIHByb3RvIDAgMQogICAgYnl0ZSAiIgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyNjAKICAgIC8vIG5vdCBzZWxmLmNvbnRyYWN0X2JyZWFjaGVkCiAgICBpbnQgMAogICAgYnl0ZSAiY29udHJhY3RfYnJlYWNoZWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIGNvbnRyYWN0X2JyZWFjaGVkIGV4aXN0cwogICAgIQogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyNTktMjYxCiAgICAvLyBhc3NlcnQgKAogICAgLy8gICAgIG5vdCBzZWxmLmNvbnRyYWN0X2JyZWFjaGVkCiAgICAvLyApLCAiTm8gbmVlZCB0byBzdG9yZSBmdXJ0aGVyIGJyZWFjaGVzIGlmIGNvbnRyYWN0IGhhcyBhbHJlYWR5IGJlZW4gYnJlYWNoZWQuIgogICAgYXNzZXJ0IC8vIE5vIG5lZWQgdG8gc3RvcmUgZnVydGhlciBicmVhY2hlcyBpZiBjb250cmFjdCBoYXMgYWxyZWFkeSBiZWVuIGJyZWFjaGVkLgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyNjQKICAgIC8vIHNlbGYua2V5c19jb25maXJtZWQKICAgIGludCAwCiAgICBieXRlICJrZXlzX2NvbmZpcm1lZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sga2V5c19jb25maXJtZWQgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjI2My0yNjUKICAgIC8vIGFzc2VydCAoCiAgICAvLyAgICAgc2VsZi5rZXlzX2NvbmZpcm1lZAogICAgLy8gKSwgIktleXMgbmVlZCB0byBiZSBjb25maXJtZWQgYmVmb3JlIHRyYWNraW5nIG9mIGJyZWFjaGVzIGlzIGVuYWJsZWQuIgogICAgYXNzZXJ0IC8vIEtleXMgbmVlZCB0byBiZSBjb25maXJtZWQgYmVmb3JlIHRyYWNraW5nIG9mIGJyZWFjaGVzIGlzIGVuYWJsZWQuCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjI2OAogICAgLy8gc2VsZi52YWxfY29uZmlnX21hbi5icmVhY2hfcm91bmRzLm5hdGl2ZSArIHNlbGYubGFzdF9icmVhY2hfcm91bmQKICAgIGludCAwCiAgICBieXRlICJ2YWxfY29uZmlnX21hbiIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgdmFsX2NvbmZpZ19tYW4gZXhpc3RzCiAgICBleHRyYWN0IDcyIDgKICAgIGJ0b2kKICAgIGludCAwCiAgICBieXRlICJsYXN0X2JyZWFjaF9yb3VuZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgbGFzdF9icmVhY2hfcm91bmQgZXhpc3RzCiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjI2OQogICAgLy8gPCBHbG9iYWwucm91bmQKICAgIGdsb2JhbCBSb3VuZAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyNjgtMjY5CiAgICAvLyBzZWxmLnZhbF9jb25maWdfbWFuLmJyZWFjaF9yb3VuZHMubmF0aXZlICsgc2VsZi5sYXN0X2JyZWFjaF9yb3VuZAogICAgLy8gPCBHbG9iYWwucm91bmQKICAgIDwKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MjY3LTI3MAogICAgLy8gYXNzZXJ0ICgKICAgIC8vICAgICBzZWxmLnZhbF9jb25maWdfbWFuLmJyZWFjaF9yb3VuZHMubmF0aXZlICsgc2VsZi5sYXN0X2JyZWFjaF9yb3VuZAogICAgLy8gICAgIDwgR2xvYmFsLnJvdW5kCiAgICAvLyApLCAiQ2hlY2sgaWYgbW9yZSB0aGFuIGFncmVlZCBudW1iZXIgb2Ygcm91bmRzIGhhcyBwYXNzZWQgc2luY2UgbGFzdCBicmVhY2guIgogICAgYXNzZXJ0IC8vIENoZWNrIGlmIG1vcmUgdGhhbiBhZ3JlZWQgbnVtYmVyIG9mIHJvdW5kcyBoYXMgcGFzc2VkIHNpbmNlIGxhc3QgYnJlYWNoLgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyNzMKICAgIC8vIHNlbGYuZGVsX2FjYy5iYWxhbmNlID4gc2VsZi52YWxfY29uZmlnX21hbi5tYXhfYW10CiAgICBpbnQgMAogICAgYnl0ZSAidmFsX2NvbmZpZ19tYW4iCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHZhbF9jb25maWdfbWFuIGV4aXN0cwogICAgZXh0cmFjdCAxNiA4CiAgICBpbnQgMAogICAgYnl0ZSAiZGVsX2FjYyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgZGVsX2FjYyBleGlzdHMKICAgIGFjY3RfcGFyYW1zX2dldCBBY2N0QmFsYW5jZQogICAgYXNzZXJ0IC8vIGFjY291bnQgZnVuZGVkCiAgICBpdG9iCiAgICBiPAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyNzMtMjc0CiAgICAvLyBzZWxmLmRlbF9hY2MuYmFsYW5jZSA+IHNlbGYudmFsX2NvbmZpZ19tYW4ubWF4X2FtdAogICAgLy8gb3Igc2VsZi5kZWxfYWNjLmJhbGFuY2UgPCBzZWxmLnZhbF9jb25maWdfbWFuLm1pbl9hbXQKICAgIGJueiBzdGFrZV9saW1pdF9icmVhY2hfYm9vbF90cnVlQDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6Mjc0CiAgICAvLyBvciBzZWxmLmRlbF9hY2MuYmFsYW5jZSA8IHNlbGYudmFsX2NvbmZpZ19tYW4ubWluX2FtdAogICAgaW50IDAKICAgIGJ5dGUgInZhbF9jb25maWdfbWFuIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayB2YWxfY29uZmlnX21hbiBleGlzdHMKICAgIGV4dHJhY3QgOCA4CiAgICBpbnQgMAogICAgYnl0ZSAiZGVsX2FjYyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgZGVsX2FjYyBleGlzdHMKICAgIGFjY3RfcGFyYW1zX2dldCBBY2N0QmFsYW5jZQogICAgYXNzZXJ0IC8vIGFjY291bnQgZnVuZGVkCiAgICBpdG9iCiAgICBiPgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyNzMtMjc0CiAgICAvLyBzZWxmLmRlbF9hY2MuYmFsYW5jZSA+IHNlbGYudmFsX2NvbmZpZ19tYW4ubWF4X2FtdAogICAgLy8gb3Igc2VsZi5kZWxfYWNjLmJhbGFuY2UgPCBzZWxmLnZhbF9jb25maWdfbWFuLm1pbl9hbXQKICAgIGJ6IHN0YWtlX2xpbWl0X2JyZWFjaF9ib29sX2ZhbHNlQDMKCnN0YWtlX2xpbWl0X2JyZWFjaF9ib29sX3RydWVAMjoKICAgIGludCAxCiAgICBiIHN0YWtlX2xpbWl0X2JyZWFjaF9ib29sX21lcmdlQDQKCnN0YWtlX2xpbWl0X2JyZWFjaF9ib29sX2ZhbHNlQDM6CiAgICBpbnQgMAoKc3Rha2VfbGltaXRfYnJlYWNoX2Jvb2xfbWVyZ2VANDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MjcyLTI3NQogICAgLy8gYXNzZXJ0ICgKICAgIC8vICAgICBzZWxmLmRlbF9hY2MuYmFsYW5jZSA+IHNlbGYudmFsX2NvbmZpZ19tYW4ubWF4X2FtdAogICAgLy8gICAgIG9yIHNlbGYuZGVsX2FjYy5iYWxhbmNlIDwgc2VsZi52YWxfY29uZmlnX21hbi5taW5fYW10CiAgICAvLyApLCAiRGVsZWdhdG9yIGFjY291bnQgYmFsYW5jZSBpcyBvdXRzaWRlIG9mIGFncmVlZCBsaW1pdHMuIgogICAgYXNzZXJ0IC8vIERlbGVnYXRvciBhY2NvdW50IGJhbGFuY2UgaXMgb3V0c2lkZSBvZiBhZ3JlZWQgbGltaXRzLgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyNzgKICAgIC8vIHNlbGYucm91bmRfc3RhcnQgPCBHbG9iYWwucm91bmQgPCBzZWxmLnJvdW5kX2VuZAogICAgaW50IDAKICAgIGJ5dGUgInJvdW5kX3N0YXJ0IgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayByb3VuZF9zdGFydCBleGlzdHMKICAgIGdsb2JhbCBSb3VuZAogICAgZHVwCiAgICBmcmFtZV9idXJ5IDAKICAgIDwKICAgIGJ6IHN0YWtlX2xpbWl0X2JyZWFjaF9ib29sX2ZhbHNlQDcKICAgIGludCAwCiAgICBieXRlICJyb3VuZF9lbmQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHJvdW5kX2VuZCBleGlzdHMKICAgIGZyYW1lX2RpZyAwCiAgICA+CiAgICBieiBzdGFrZV9saW1pdF9icmVhY2hfYm9vbF9mYWxzZUA3CiAgICBpbnQgMQogICAgYiBzdGFrZV9saW1pdF9icmVhY2hfYm9vbF9tZXJnZUA4CgpzdGFrZV9saW1pdF9icmVhY2hfYm9vbF9mYWxzZUA3OgogICAgaW50IDAKCnN0YWtlX2xpbWl0X2JyZWFjaF9ib29sX21lcmdlQDg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjI3Ny0yNzkKICAgIC8vIGFzc2VydCAoCiAgICAvLyAgICAgc2VsZi5yb3VuZF9zdGFydCA8IEdsb2JhbC5yb3VuZCA8IHNlbGYucm91bmRfZW5kCiAgICAvLyApLCAiQnJlYWNoaW5nIGlzIHJlbGV2YW50IG9ubHkgaW5zaWRlIGNvbnRyYWN0IHZhbGlkaXR5LiIKICAgIGFzc2VydCAvLyBCcmVhY2hpbmcgaXMgcmVsZXZhbnQgb25seSBpbnNpZGUgY29udHJhY3QgdmFsaWRpdHkuCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjI4MQogICAgLy8gc2VsZi5udW1fYnJlYWNoICs9IDEKICAgIGludCAwCiAgICBieXRlICJudW1fYnJlYWNoIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBudW1fYnJlYWNoIGV4aXN0cwogICAgaW50IDEKICAgICsKICAgIGJ5dGUgIm51bV9icmVhY2giCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyODIKICAgIC8vIHNlbGYuY29udHJhY3RfYnJlYWNoZWQgPSBzZWxmLm51bV9icmVhY2ggPj0gc2VsZi52YWxfY29uZmlnX21hbi5tYXhfYnJlYWNoCiAgICBpbnQgMAogICAgYnl0ZSAidmFsX2NvbmZpZ19tYW4iCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHZhbF9jb25maWdfbWFuIGV4aXN0cwogICAgZXh0cmFjdCA2NCA4CiAgICBpbnQgMAogICAgYnl0ZSAibnVtX2JyZWFjaCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgbnVtX2JyZWFjaCBleGlzdHMKICAgIGl0b2IKICAgIGI8PQogICAgYnl0ZSAiY29udHJhY3RfYnJlYWNoZWQiCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyODMKICAgIC8vIHNlbGYubGFzdF9icmVhY2hfcm91bmQgPSBHbG9iYWwucm91bmQKICAgIGJ5dGUgImxhc3RfYnJlYWNoX3JvdW5kIgogICAgZ2xvYmFsIFJvdW5kCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyODUKICAgIC8vIHJldHVybiBhcmM0LkJvb2woc2VsZi5jb250cmFjdF9icmVhY2hlZCkKICAgIGludCAwCiAgICBieXRlICJjb250cmFjdF9icmVhY2hlZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgY29udHJhY3RfYnJlYWNoZWQgZXhpc3RzCiAgICBieXRlIDB4MDAKICAgIGludCAwCiAgICB1bmNvdmVyIDIKICAgIHNldGJpdAogICAgc3dhcAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmRlbGVnYXRvcl9jb250cmFjdC5jb250cmFjdC5EZWxlZ2F0b3JDb250cmFjdC5kZXJlZ19icmVhY2goKSAtPiBieXRlczoKZGVyZWdfYnJlYWNoOgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyODctMjkwCiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgLy8gZGVmIGRlcmVnX2JyZWFjaCgKICAgIC8vICAgICBzZWxmLAogICAgLy8gKSAtPiBhcmM0LkJvb2w6CiAgICBwcm90byAwIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6Mjk1CiAgICAvLyBhc3NlcnQgc2VsZi5jYWxsZWRfYnlfdmFsaWRhdG9yX2FkKCksICJOb3QgY2FsbGVkIGJ5IHZhbGlkYXRvciBhcHAuIgogICAgY2FsbHN1YiBjYWxsZWRfYnlfdmFsaWRhdG9yX2FkCiAgICBhc3NlcnQgLy8gTm90IGNhbGxlZCBieSB2YWxpZGF0b3IgYXBwLgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weToyOTcKICAgIC8vIGFzc2VydCBub3Qgc2VsZi5jb250cmFjdF9icmVhY2hlZCwgIkFscmVhZHkgaGFzIGJlZW4gYnJlYWNoZWQuIgogICAgaW50IDAKICAgIGJ5dGUgImNvbnRyYWN0X2JyZWFjaGVkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBjb250cmFjdF9icmVhY2hlZCBleGlzdHMKICAgICEKICAgIGFzc2VydCAvLyBBbHJlYWR5IGhhcyBiZWVuIGJyZWFjaGVkLgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weTozMDAKICAgIC8vIHNlbGYua2V5c19jb25maXJtZWQKICAgIGludCAwCiAgICBieXRlICJrZXlzX2NvbmZpcm1lZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sga2V5c19jb25maXJtZWQgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjI5OS0zMDEKICAgIC8vIGFzc2VydCAoCiAgICAvLyAgICAgc2VsZi5rZXlzX2NvbmZpcm1lZAogICAgLy8gKSwgIktleXMgbmVlZCB0byBiZSBjb25maXJtZWQgYmVmb3JlIHRyYWNraW5nIG9mIGJyZWFjaGVzIGlzIGVuYWJsZWQuIgogICAgYXNzZXJ0IC8vIEtleXMgbmVlZCB0byBiZSBjb25maXJtZWQgYmVmb3JlIHRyYWNraW5nIG9mIGJyZWFjaGVzIGlzIGVuYWJsZWQuCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjMwNAogICAgLy8gc2VsZi52YWxfYXBwX2lkLCBCeXRlcyhiIm1hbmFnZXIiKQogICAgaW50IDAKICAgIGJ5dGUgInZhbF9hcHBfaWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHZhbF9hcHBfaWQgZXhpc3RzCiAgICBieXRlICJtYW5hZ2VyIgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weTozMDMtMzA1CiAgICAvLyB2YWxfbW5nLCB2YWxfbW5nX2V4aXN0ID0gb3AuQXBwR2xvYmFsLmdldF9leF9ieXRlcygKICAgIC8vICAgICBzZWxmLnZhbF9hcHBfaWQsIEJ5dGVzKGIibWFuYWdlciIpCiAgICAvLyApCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weTozMDYKICAgIC8vIGFzc2VydCB2YWxfbW5nX2V4aXN0LCAiVmxpZGF0b3IgY29udHJhY3QgaGFzIG1hbmFnZXIuIgogICAgYXNzZXJ0IC8vIFZsaWRhdG9yIGNvbnRyYWN0IGhhcyBtYW5hZ2VyLgogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weTozMDcKICAgIC8vIGFzc2VydCBUeG4uc2VuZGVyID09IEFjY291bnQodmFsX21uZyksICJNYW5hZ2VyIGNhbGxlZCBicmVjYWgga2V5IGRlcmVnLiIKICAgIHR4biBTZW5kZXIKICAgIHN3YXAKICAgIGR1cAogICAgbGVuCiAgICBpbnQgMzIKICAgID09CiAgICBhc3NlcnQgLy8gQWRkcmVzcyBsZW5ndGggaXMgMzIgYnl0ZXMKICAgID09CiAgICBhc3NlcnQgLy8gTWFuYWdlciBjYWxsZWQgYnJlY2FoIGtleSBkZXJlZy4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MzA5CiAgICAvLyBzZWxmLmNvbnRyYWN0X2JyZWFjaGVkID0gVHJ1ZQogICAgYnl0ZSAiY29udHJhY3RfYnJlYWNoZWQiCiAgICBpbnQgMQogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6MzExCiAgICAvLyByZXR1cm4gYXJjNC5Cb29sKHNlbGYuY29udHJhY3RfYnJlYWNoZWQpCiAgICBpbnQgMAogICAgYnl0ZSAiY29udHJhY3RfYnJlYWNoZWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIGNvbnRyYWN0X2JyZWFjaGVkIGV4aXN0cwogICAgYnl0ZSAweDAwCiAgICBpbnQgMAogICAgdW5jb3ZlciAyCiAgICBzZXRiaXQKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5kZWxlZ2F0b3JfY29udHJhY3QuY29udHJhY3QuRGVsZWdhdG9yQ29udHJhY3QuX19pbml0X18oKSAtPiB2b2lkOgpfX2luaXRfXzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6NDgKICAgIC8vIGRlZiBfX2luaXRfXyhzZWxmKSAtPiBOb25lOgogICAgcHJvdG8gMCAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjQ5LTUwCiAgICAvLyAjIERlZmluZSBnbG9iYWwgc3RhdGUKICAgIC8vIHNlbGYubm90aWNlYm9hcmRfYXBwX2lkID0gVUludDY0KDApCiAgICBieXRlICJub3RpY2Vib2FyZF9hcHBfaWQiCiAgICBpbnQgMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6NTEKICAgIC8vIHNlbGYudmFsX2FwcF9pZCA9IFVJbnQ2NCgwKQogICAgYnl0ZSAidmFsX2FwcF9pZCIKICAgIGludCAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weTo1MgogICAgLy8gc2VsZi5kZWxfYWNjID0gR2xvYmFsLnplcm9fYWRkcmVzcwogICAgYnl0ZSAiZGVsX2FjYyIKICAgIGdsb2JhbCBaZXJvQWRkcmVzcwogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6NTMKICAgIC8vIHNlbGYudmFsX2NvbmZpZ19tYW4gPSBWYWxDb25maWdNYW4oCiAgICBieXRlICJ2YWxfY29uZmlnX21hbiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6NTMtNjUKICAgIC8vIHNlbGYudmFsX2NvbmZpZ19tYW4gPSBWYWxDb25maWdNYW4oCiAgICAvLyAgICAgYXJjNC5VSW50NjQoMCksCiAgICAvLyAgICAgYXJjNC5VSW50NjQoMCksCiAgICAvLyAgICAgYXJjNC5VSW50NjQoMCksCiAgICAvLyAgICAgYXJjNC5VSW50NjQoMCksCiAgICAvLyAgICAgYXJjNC5VSW50NjQoMCksCiAgICAvLyAgICAgYXJjNC5VSW50NjQoMCksCiAgICAvLyAgICAgYXJjNC5VSW50NjQoMCksCiAgICAvLyAgICAgYXJjNC5VSW50NjQoMCksCiAgICAvLyAgICAgYXJjNC5VSW50NjQoMCksCiAgICAvLyAgICAgYXJjNC5VSW50NjQoMCksCiAgICAvLyAgICAgYXJjNC5VSW50NjQoMCksCiAgICAvLyApCiAgICBieXRlIDB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjY3CiAgICAvLyBWYWxOYW1lLmZyb21fYnl0ZXMob3AuYnplcm8oMzApKSwKICAgIGludCAzMAogICAgYnplcm8KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6NjgKICAgIC8vIFZhbExpbmsuZnJvbV9ieXRlcyhvcC5iemVybyg3MCkpLAogICAgaW50IDcwCiAgICBiemVybwogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weTo2Ni02OQogICAgLy8gc2VsZi52YWxfY29uZmlnX2V4dHJhID0gVmFsQ29uZmlnRXh0cmEoCiAgICAvLyAgICAgVmFsTmFtZS5mcm9tX2J5dGVzKG9wLmJ6ZXJvKDMwKSksCiAgICAvLyAgICAgVmFsTGluay5mcm9tX2J5dGVzKG9wLmJ6ZXJvKDcwKSksCiAgICAvLyApCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6NjYKICAgIC8vIHNlbGYudmFsX2NvbmZpZ19leHRyYSA9IFZhbENvbmZpZ0V4dHJhKAogICAgYnl0ZSAidmFsX2NvbmZpZ19leHRyYSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6NjYtNjkKICAgIC8vIHNlbGYudmFsX2NvbmZpZ19leHRyYSA9IFZhbENvbmZpZ0V4dHJhKAogICAgLy8gICAgIFZhbE5hbWUuZnJvbV9ieXRlcyhvcC5iemVybygzMCkpLAogICAgLy8gICAgIFZhbExpbmsuZnJvbV9ieXRlcyhvcC5iemVybyg3MCkpLAogICAgLy8gKQogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6NzAKICAgIC8vIHNlbGYucm91bmRfc3RhcnQgPSBVSW50NjQoMCkKICAgIGJ5dGUgInJvdW5kX3N0YXJ0IgogICAgaW50IDAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjcxCiAgICAvLyBzZWxmLnJvdW5kX2VuZCA9IFVJbnQ2NCgwKQogICAgYnl0ZSAicm91bmRfZW5kIgogICAgaW50IDAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjcyCiAgICAvLyBzZWxmLnZvdGVfa2V5X2RpbHV0aW9uID0gVUludDY0KDApCiAgICBieXRlICJ2b3RlX2tleV9kaWx1dGlvbiIKICAgIGludCAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weTo3MwogICAgLy8gc2VsZi5zZWxfa2V5ID0gU2VsS2V5LmZyb21fYnl0ZXMob3AuYnplcm8oMzIpKQogICAgaW50IDMyCiAgICBiemVybwogICAgYnl0ZSAic2VsX2tleSIKICAgIGRpZyAxCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weTo3NAogICAgLy8gc2VsZi52b3RlX2tleSA9IFZvdGVLZXkuZnJvbV9ieXRlcyhvcC5iemVybygzMikpCiAgICBieXRlICJ2b3RlX2tleSIKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5Ojc1CiAgICAvLyBzZWxmLnN0YXRlX3Byb29mX2tleSA9IFN0YXRlUHJvb2ZLZXkuZnJvbV9ieXRlcyhvcC5iemVybyg2NCkpCiAgICBpbnQgNjQKICAgIGJ6ZXJvCiAgICBieXRlICJzdGF0ZV9wcm9vZl9rZXkiCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weTo3NwogICAgLy8gc2VsZi5wYXJ0X2tleXNfZGVwb3NpdGVkID0gRmFsc2UKICAgIGJ5dGUgInBhcnRfa2V5c19kZXBvc2l0ZWQiCiAgICBpbnQgMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6NzgKICAgIC8vIHNlbGYua2V5c19jb25maXJtZWQgPSBGYWxzZQogICAgYnl0ZSAia2V5c19jb25maXJtZWQiCiAgICBpbnQgMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6ODAKICAgIC8vIHNlbGYubnVtX2JyZWFjaCA9IFVJbnQ2NCgwKQogICAgYnl0ZSAibnVtX2JyZWFjaCIKICAgIGludCAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2RlbGVnYXRvcl9jb250cmFjdC9jb250cmFjdC5weTo4MQogICAgLy8gc2VsZi5sYXN0X2JyZWFjaF9yb3VuZCA9IFVJbnQ2NCgwKQogICAgYnl0ZSAibGFzdF9icmVhY2hfcm91bmQiCiAgICBpbnQgMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9kZWxlZ2F0b3JfY29udHJhY3QvY29udHJhY3QucHk6ODIKICAgIC8vIHNlbGYuY29udHJhY3RfYnJlYWNoZWQgPSBGYWxzZQogICAgYnl0ZSAiY29udHJhY3RfYnJlYWNoZWQiCiAgICBpbnQgMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIHJldHN1Ygo=",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDEwCgpzbWFydF9jb250cmFjdHMuZGVsZWdhdG9yX2NvbnRyYWN0LmNvbnRyYWN0LkRlbGVnYXRvckNvbnRyYWN0LmNsZWFyX3N0YXRlX3Byb2dyYW06CiAgICAvLyBzbWFydF9jb250cmFjdHMvZGVsZWdhdG9yX2NvbnRyYWN0L2NvbnRyYWN0LnB5OjI3LTI4CiAgICAvLyAjIC0tLS0tLS0gU21hcnQgY29udHJhY3QgLS0tLS0tLQogICAgLy8gY2xhc3MgRGVsZWdhdG9yQ29udHJhY3QoQVJDNENvbnRyYWN0KToKICAgIGludCAxCiAgICByZXR1cm4K"
    },
    "state": {
        "global": {
            "num_byte_slices": 6,
            "num_uints": 10
        },
        "local": {
            "num_byte_slices": 0,
            "num_uints": 0
        }
    },
    "schema": {
        "global": {
            "declared": {
                "contract_breached": {
                    "type": "uint64",
                    "key": "contract_breached"
                },
                "del_acc": {
                    "type": "bytes",
                    "key": "del_acc"
                },
                "keys_confirmed": {
                    "type": "uint64",
                    "key": "keys_confirmed"
                },
                "last_breach_round": {
                    "type": "uint64",
                    "key": "last_breach_round"
                },
                "noticeboard_app_id": {
                    "type": "uint64",
                    "key": "noticeboard_app_id"
                },
                "num_breach": {
                    "type": "uint64",
                    "key": "num_breach"
                },
                "part_keys_deposited": {
                    "type": "uint64",
                    "key": "part_keys_deposited"
                },
                "round_end": {
                    "type": "uint64",
                    "key": "round_end"
                },
                "round_start": {
                    "type": "uint64",
                    "key": "round_start"
                },
                "sel_key": {
                    "type": "bytes",
                    "key": "sel_key"
                },
                "state_proof_key": {
                    "type": "bytes",
                    "key": "state_proof_key"
                },
                "val_app_id": {
                    "type": "uint64",
                    "key": "val_app_id"
                },
                "val_config_extra": {
                    "type": "bytes",
                    "key": "val_config_extra"
                },
                "val_config_man": {
                    "type": "bytes",
                    "key": "val_config_man"
                },
                "vote_key": {
                    "type": "bytes",
                    "key": "vote_key"
                },
                "vote_key_dilution": {
                    "type": "uint64",
                    "key": "vote_key_dilution"
                }
            },
            "reserved": {}
        },
        "local": {
            "declared": {},
            "reserved": {}
        }
    },
    "contract": {
        "name": "DelegatorContract",
        "methods": [
            {
                "name": "create",
                "args": [
                    {
                        "type": "address",
                        "name": "del_acc"
                    },
                    {
                        "type": "uint64",
                        "name": "noticeboard_app_id"
                    },
                    {
                        "type": "uint64",
                        "name": "round_start"
                    },
                    {
                        "type": "uint64",
                        "name": "round_end"
                    }
                ],
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "set_mandatory",
                "args": [
                    {
                        "type": "(uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64)",
                        "name": "val_config_man"
                    }
                ],
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "set_extra",
                "args": [
                    {
                        "type": "(byte[30],byte[70])",
                        "name": "val_config_extra"
                    }
                ],
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "deposit_keys",
                "args": [
                    {
                        "type": "byte[32]",
                        "name": "sel_key"
                    },
                    {
                        "type": "byte[32]",
                        "name": "vote_key"
                    },
                    {
                        "type": "byte[64]",
                        "name": "state_proof_key"
                    },
                    {
                        "type": "uint64",
                        "name": "vote_key_dilution"
                    },
                    {
                        "type": "uint64",
                        "name": "round_start"
                    },
                    {
                        "type": "uint64",
                        "name": "round_end"
                    }
                ],
                "returns": {
                    "type": "uint64"
                }
            },
            {
                "name": "confirm_keys",
                "args": [
                    {
                        "type": "uint64",
                        "name": "fee_operation_payment_amount"
                    },
                    {
                        "type": "byte[32]",
                        "name": "sel_key"
                    },
                    {
                        "type": "byte[32]",
                        "name": "vote_key"
                    },
                    {
                        "type": "byte[64]",
                        "name": "state_proof_key"
                    },
                    {
                        "type": "uint64",
                        "name": "vote_key_dilution"
                    },
                    {
                        "type": "uint64",
                        "name": "round_start"
                    },
                    {
                        "type": "uint64",
                        "name": "round_end"
                    }
                ],
                "returns": {
                    "type": "uint64"
                }
            },
            {
                "name": "keys_not_generated",
                "args": [],
                "returns": {
                    "type": "(uint64,uint64)"
                }
            },
            {
                "name": "keys_not_confirmed",
                "args": [],
                "returns": {
                    "type": "(uint64,uint64)"
                }
            },
            {
                "name": "end_contract",
                "args": [],
                "returns": {
                    "type": "(uint64,uint64,uint64)"
                }
            },
            {
                "name": "stake_limit_breach",
                "args": [],
                "returns": {
                    "type": "bool"
                },
                "desc": "Anyone can trigger storing of a stake limit breach event."
            },
            {
                "name": "dereg_breach",
                "args": [],
                "returns": {
                    "type": "bool"
                },
                "desc": "Work in progress"
            }
        ],
        "networks": {},
        "desc": "\n    Contract between a user, i.e. delegator, and node runner, i.e. valdiator, for the latter to participate in consensus\n    on the behalf of the user for specific amount of time and for a specific fee.\n    The contract terms are defined in this contract.\n\n    Global state\n    ------------\n        Configuration parameters\n        ------------------------\n\n\n        Variables\n        ---------\n\n    Methods\n    -------\n\n    "
    },
    "bare_call_config": {}
}"""
APP_SPEC = algokit_utils.ApplicationSpecification.from_json(_APP_SPEC_JSON)
_TReturn = typing.TypeVar("_TReturn")


class _ArgsBase(ABC, typing.Generic[_TReturn]):
    @staticmethod
    @abstractmethod
    def method() -> str:
        ...


_TArgs = typing.TypeVar("_TArgs", bound=_ArgsBase[typing.Any])


@dataclasses.dataclass(kw_only=True)
class _TArgsHolder(typing.Generic[_TArgs]):
    args: _TArgs


@dataclasses.dataclass(kw_only=True)
class DeployCreate(algokit_utils.DeployCreateCallArgs, _TArgsHolder[_TArgs], typing.Generic[_TArgs]):
    pass


@dataclasses.dataclass(kw_only=True)
class Deploy(algokit_utils.DeployCallArgs, _TArgsHolder[_TArgs], typing.Generic[_TArgs]):
    pass


def _filter_none(value: dict | typing.Any) -> dict | typing.Any:
    if isinstance(value, dict):
        return {k: _filter_none(v) for k, v in value.items() if v is not None}
    return value


def _as_dict(data: typing.Any, *, convert_all: bool = True) -> dict[str, typing.Any]:
    if data is None:
        return {}
    if not dataclasses.is_dataclass(data):
        raise TypeError(f"{data} must be a dataclass")
    if convert_all:
        result = dataclasses.asdict(data)
    else:
        result = {f.name: getattr(data, f.name) for f in dataclasses.fields(data)}
    return _filter_none(result)


def _convert_transaction_parameters(
    transaction_parameters: algokit_utils.TransactionParameters | None,
) -> algokit_utils.TransactionParametersDict:
    return typing.cast(algokit_utils.TransactionParametersDict, _as_dict(transaction_parameters))


def _convert_call_transaction_parameters(
    transaction_parameters: algokit_utils.TransactionParameters | None,
) -> algokit_utils.OnCompleteCallParametersDict:
    return typing.cast(algokit_utils.OnCompleteCallParametersDict, _as_dict(transaction_parameters))


def _convert_create_transaction_parameters(
    transaction_parameters: algokit_utils.TransactionParameters | None,
    on_complete: algokit_utils.OnCompleteActionName,
) -> algokit_utils.CreateCallParametersDict:
    result = typing.cast(algokit_utils.CreateCallParametersDict, _as_dict(transaction_parameters))
    on_complete_enum = on_complete.replace("_", " ").title().replace(" ", "") + "OC"
    result["on_complete"] = getattr(algosdk.transaction.OnComplete, on_complete_enum)
    return result


def _convert_deploy_args(
    deploy_args: algokit_utils.DeployCallArgs | None,
) -> algokit_utils.ABICreateCallArgsDict | None:
    if deploy_args is None:
        return None

    deploy_args_dict = typing.cast(algokit_utils.ABICreateCallArgsDict, _as_dict(deploy_args))
    if isinstance(deploy_args, _TArgsHolder):
        deploy_args_dict["args"] = _as_dict(deploy_args.args)
        deploy_args_dict["method"] = deploy_args.args.method()

    return deploy_args_dict


@dataclasses.dataclass(kw_only=True)
class ValConfigMan:
    hw_cat: int
    min_amt: int
    max_amt: int
    fee_setup: int
    fee_round: int
    deposit: int
    setup_rounds: int
    confirmation_rounds: int
    max_breach: int
    breach_rounds: int
    uptime_gar: int


@dataclasses.dataclass(kw_only=True)
class SetMandatoryArgs(_ArgsBase[None]):
    val_config_man: ValConfigMan

    @staticmethod
    def method() -> str:
        return "set_mandatory((uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64))void"


@dataclasses.dataclass(kw_only=True)
class ValConfigExtra:
    name: bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int]
    link: bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int]


@dataclasses.dataclass(kw_only=True)
class SetExtraArgs(_ArgsBase[None]):
    val_config_extra: ValConfigExtra

    @staticmethod
    def method() -> str:
        return "set_extra((byte[30],byte[70]))void"


@dataclasses.dataclass(kw_only=True)
class DepositKeysArgs(_ArgsBase[int]):
    sel_key: bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int]
    vote_key: bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int]
    state_proof_key: bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int]
    vote_key_dilution: int
    round_start: int
    round_end: int

    @staticmethod
    def method() -> str:
        return "deposit_keys(byte[32],byte[32],byte[64],uint64,uint64,uint64)uint64"


@dataclasses.dataclass(kw_only=True)
class ConfirmKeysArgs(_ArgsBase[int]):
    fee_operation_payment_amount: int
    sel_key: bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int]
    vote_key: bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int]
    state_proof_key: bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int]
    vote_key_dilution: int
    round_start: int
    round_end: int

    @staticmethod
    def method() -> str:
        return "confirm_keys(uint64,byte[32],byte[32],byte[64],uint64,uint64,uint64)uint64"


@dataclasses.dataclass(kw_only=True)
class StakeLimitBreachArgs(_ArgsBase[bool]):
    """Anyone can trigger storing of a stake limit breach event."""

    @staticmethod
    def method() -> str:
        return "stake_limit_breach()bool"


@dataclasses.dataclass(kw_only=True)
class DeregBreachArgs(_ArgsBase[bool]):
    """Work in progress"""

    @staticmethod
    def method() -> str:
        return "dereg_breach()bool"


@dataclasses.dataclass(kw_only=True)
class CreateArgs(_ArgsBase[None]):
    del_acc: str
    noticeboard_app_id: int
    round_start: int
    round_end: int

    @staticmethod
    def method() -> str:
        return "create(address,uint64,uint64,uint64)void"


@dataclasses.dataclass(kw_only=True)
class Struct2UInt64:
    a: int
    b: int


@dataclasses.dataclass(kw_only=True)
class KeysNotGeneratedArgs(_ArgsBase[Struct2UInt64]):
    @staticmethod
    def method() -> str:
        return "keys_not_generated()(uint64,uint64)"


@dataclasses.dataclass(kw_only=True)
class KeysNotConfirmedArgs(_ArgsBase[Struct2UInt64]):
    @staticmethod
    def method() -> str:
        return "keys_not_confirmed()(uint64,uint64)"


@dataclasses.dataclass(kw_only=True)
class Struct3UInt64:
    a: int
    b: int
    c: int


@dataclasses.dataclass(kw_only=True)
class EndContractArgs(_ArgsBase[Struct3UInt64]):
    @staticmethod
    def method() -> str:
        return "end_contract()(uint64,uint64,uint64)"


class ByteReader:
    def __init__(self, data: bytes):
        self._data = data

    @property
    def as_bytes(self) -> bytes:
        return self._data

    @property
    def as_str(self) -> str:
        return self._data.decode("utf8")

    @property
    def as_base64(self) -> str:
        return base64.b64encode(self._data).decode("utf8")

    @property
    def as_hex(self) -> str:
        return self._data.hex()


class GlobalState:
    def __init__(self, data: dict[bytes, bytes | int]):
        self.contract_breached = typing.cast(int, data.get(b"contract_breached"))
        self.del_acc = ByteReader(typing.cast(bytes, data.get(b"del_acc")))
        self.keys_confirmed = typing.cast(int, data.get(b"keys_confirmed"))
        self.last_breach_round = typing.cast(int, data.get(b"last_breach_round"))
        self.noticeboard_app_id = typing.cast(int, data.get(b"noticeboard_app_id"))
        self.num_breach = typing.cast(int, data.get(b"num_breach"))
        self.part_keys_deposited = typing.cast(int, data.get(b"part_keys_deposited"))
        self.round_end = typing.cast(int, data.get(b"round_end"))
        self.round_start = typing.cast(int, data.get(b"round_start"))
        self.sel_key = ByteReader(typing.cast(bytes, data.get(b"sel_key")))
        self.state_proof_key = ByteReader(typing.cast(bytes, data.get(b"state_proof_key")))
        self.val_app_id = typing.cast(int, data.get(b"val_app_id"))
        self.val_config_extra = ByteReader(typing.cast(bytes, data.get(b"val_config_extra")))
        self.val_config_man = ByteReader(typing.cast(bytes, data.get(b"val_config_man")))
        self.vote_key = ByteReader(typing.cast(bytes, data.get(b"vote_key")))
        self.vote_key_dilution = typing.cast(int, data.get(b"vote_key_dilution"))


@dataclasses.dataclass(kw_only=True)
class SimulateOptions:
    allow_more_logs: bool = dataclasses.field(default=False)
    allow_empty_signatures: bool = dataclasses.field(default=False)
    extra_opcode_budget: int = dataclasses.field(default=0)
    exec_trace_config: models.SimulateTraceConfig | None         = dataclasses.field(default=None)


class Composer:

    def __init__(self, app_client: algokit_utils.ApplicationClient, atc: AtomicTransactionComposer):
        self.app_client = app_client
        self.atc = atc

    def build(self) -> AtomicTransactionComposer:
        return self.atc

    def simulate(self, options: SimulateOptions | None = None) -> SimulateAtomicTransactionResponse:
        request = models.SimulateRequest(
            allow_more_logs=options.allow_more_logs,
            allow_empty_signatures=options.allow_empty_signatures,
            extra_opcode_budget=options.extra_opcode_budget,
            exec_trace_config=options.exec_trace_config,
            txn_groups=[]
        ) if options else None
        result = self.atc.simulate(self.app_client.algod_client, request)
        return result

    def execute(self) -> AtomicTransactionResponse:
        return self.app_client.execute_atc(self.atc)

    def set_mandatory(
        self,
        *,
        val_config_man: ValConfigMan,
        transaction_parameters: algokit_utils.TransactionParameters | None = None,
    ) -> "Composer":
        """Adds a call to `set_mandatory((uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64))void` ABI method
        
        :param ValConfigMan val_config_man: The `val_config_man` ABI parameter
        :param algokit_utils.TransactionParameters transaction_parameters: (optional) Additional transaction parameters
        :returns Composer: This Composer instance"""

        args = SetMandatoryArgs(
            val_config_man=val_config_man,
        )
        self.app_client.compose_call(
            self.atc,
            call_abi_method=args.method(),
            transaction_parameters=_convert_call_transaction_parameters(transaction_parameters),
            **_as_dict(args, convert_all=True),
        )
        return self

    def set_extra(
        self,
        *,
        val_config_extra: ValConfigExtra,
        transaction_parameters: algokit_utils.TransactionParameters | None = None,
    ) -> "Composer":
        """Adds a call to `set_extra((byte[30],byte[70]))void` ABI method
        
        :param ValConfigExtra val_config_extra: The `val_config_extra` ABI parameter
        :param algokit_utils.TransactionParameters transaction_parameters: (optional) Additional transaction parameters
        :returns Composer: This Composer instance"""

        args = SetExtraArgs(
            val_config_extra=val_config_extra,
        )
        self.app_client.compose_call(
            self.atc,
            call_abi_method=args.method(),
            transaction_parameters=_convert_call_transaction_parameters(transaction_parameters),
            **_as_dict(args, convert_all=True),
        )
        return self

    def deposit_keys(
        self,
        *,
        sel_key: bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int],
        vote_key: bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int],
        state_proof_key: bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int],
        vote_key_dilution: int,
        round_start: int,
        round_end: int,
        transaction_parameters: algokit_utils.TransactionParameters | None = None,
    ) -> "Composer":
        """Adds a call to `deposit_keys(byte[32],byte[32],byte[64],uint64,uint64,uint64)uint64` ABI method
        
        :param bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int] sel_key: The `sel_key` ABI parameter
        :param bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int] vote_key: The `vote_key` ABI parameter
        :param bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int] state_proof_key: The `state_proof_key` ABI parameter
        :param int vote_key_dilution: The `vote_key_dilution` ABI parameter
        :param int round_start: The `round_start` ABI parameter
        :param int round_end: The `round_end` ABI parameter
        :param algokit_utils.TransactionParameters transaction_parameters: (optional) Additional transaction parameters
        :returns Composer: This Composer instance"""

        args = DepositKeysArgs(
            sel_key=sel_key,
            vote_key=vote_key,
            state_proof_key=state_proof_key,
            vote_key_dilution=vote_key_dilution,
            round_start=round_start,
            round_end=round_end,
        )
        self.app_client.compose_call(
            self.atc,
            call_abi_method=args.method(),
            transaction_parameters=_convert_call_transaction_parameters(transaction_parameters),
            **_as_dict(args, convert_all=True),
        )
        return self

    def confirm_keys(
        self,
        *,
        fee_operation_payment_amount: int,
        sel_key: bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int],
        vote_key: bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int],
        state_proof_key: bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int],
        vote_key_dilution: int,
        round_start: int,
        round_end: int,
        transaction_parameters: algokit_utils.TransactionParameters | None = None,
    ) -> "Composer":
        """Adds a call to `confirm_keys(uint64,byte[32],byte[32],byte[64],uint64,uint64,uint64)uint64` ABI method
        
        :param int fee_operation_payment_amount: The `fee_operation_payment_amount` ABI parameter
        :param bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int] sel_key: The `sel_key` ABI parameter
        :param bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int] vote_key: The `vote_key` ABI parameter
        :param bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int] state_proof_key: The `state_proof_key` ABI parameter
        :param int vote_key_dilution: The `vote_key_dilution` ABI parameter
        :param int round_start: The `round_start` ABI parameter
        :param int round_end: The `round_end` ABI parameter
        :param algokit_utils.TransactionParameters transaction_parameters: (optional) Additional transaction parameters
        :returns Composer: This Composer instance"""

        args = ConfirmKeysArgs(
            fee_operation_payment_amount=fee_operation_payment_amount,
            sel_key=sel_key,
            vote_key=vote_key,
            state_proof_key=state_proof_key,
            vote_key_dilution=vote_key_dilution,
            round_start=round_start,
            round_end=round_end,
        )
        self.app_client.compose_call(
            self.atc,
            call_abi_method=args.method(),
            transaction_parameters=_convert_call_transaction_parameters(transaction_parameters),
            **_as_dict(args, convert_all=True),
        )
        return self

    def stake_limit_breach(
        self,
        *,
        transaction_parameters: algokit_utils.TransactionParameters | None = None,
    ) -> "Composer":
        """Anyone can trigger storing of a stake limit breach event.
        
        Adds a call to `stake_limit_breach()bool` ABI method
        
        :param algokit_utils.TransactionParameters transaction_parameters: (optional) Additional transaction parameters
        :returns Composer: This Composer instance"""

        args = StakeLimitBreachArgs()
        self.app_client.compose_call(
            self.atc,
            call_abi_method=args.method(),
            transaction_parameters=_convert_call_transaction_parameters(transaction_parameters),
            **_as_dict(args, convert_all=True),
        )
        return self

    def dereg_breach(
        self,
        *,
        transaction_parameters: algokit_utils.TransactionParameters | None = None,
    ) -> "Composer":
        """Work in progress
        
        Adds a call to `dereg_breach()bool` ABI method
        
        :param algokit_utils.TransactionParameters transaction_parameters: (optional) Additional transaction parameters
        :returns Composer: This Composer instance"""

        args = DeregBreachArgs()
        self.app_client.compose_call(
            self.atc,
            call_abi_method=args.method(),
            transaction_parameters=_convert_call_transaction_parameters(transaction_parameters),
            **_as_dict(args, convert_all=True),
        )
        return self

    def create_create(
        self,
        *,
        del_acc: str,
        noticeboard_app_id: int,
        round_start: int,
        round_end: int,
        on_complete: typing.Literal["no_op"] = "no_op",
        transaction_parameters: algokit_utils.CreateTransactionParameters | None = None,
    ) -> "Composer":
        """Adds a call to `create(address,uint64,uint64,uint64)void` ABI method
        
        :param str del_acc: The `del_acc` ABI parameter
        :param int noticeboard_app_id: The `noticeboard_app_id` ABI parameter
        :param int round_start: The `round_start` ABI parameter
        :param int round_end: The `round_end` ABI parameter
        :param typing.Literal[no_op] on_complete: On completion type to use
        :param algokit_utils.CreateTransactionParameters transaction_parameters: (optional) Additional transaction parameters
        :returns Composer: This Composer instance"""

        args = CreateArgs(
            del_acc=del_acc,
            noticeboard_app_id=noticeboard_app_id,
            round_start=round_start,
            round_end=round_end,
        )
        self.app_client.compose_create(
            self.atc,
            call_abi_method=args.method(),
            transaction_parameters=_convert_create_transaction_parameters(transaction_parameters, on_complete),
            **_as_dict(args, convert_all=True),
        )
        return self

    def delete_keys_not_generated(
        self,
        *,
        transaction_parameters: algokit_utils.TransactionParameters | None = None,
    ) -> "Composer":
        """Adds a call to `keys_not_generated()(uint64,uint64)` ABI method
        
        :param algokit_utils.TransactionParameters transaction_parameters: (optional) Additional transaction parameters
        :returns Composer: This Composer instance"""

        args = KeysNotGeneratedArgs()
        self.app_client.compose_delete(
            self.atc,
            call_abi_method=args.method(),
            transaction_parameters=_convert_transaction_parameters(transaction_parameters),
            **_as_dict(args, convert_all=True),
        )
        return self

    def delete_keys_not_confirmed(
        self,
        *,
        transaction_parameters: algokit_utils.TransactionParameters | None = None,
    ) -> "Composer":
        """Adds a call to `keys_not_confirmed()(uint64,uint64)` ABI method
        
        :param algokit_utils.TransactionParameters transaction_parameters: (optional) Additional transaction parameters
        :returns Composer: This Composer instance"""

        args = KeysNotConfirmedArgs()
        self.app_client.compose_delete(
            self.atc,
            call_abi_method=args.method(),
            transaction_parameters=_convert_transaction_parameters(transaction_parameters),
            **_as_dict(args, convert_all=True),
        )
        return self

    def delete_end_contract(
        self,
        *,
        transaction_parameters: algokit_utils.TransactionParameters | None = None,
    ) -> "Composer":
        """Adds a call to `end_contract()(uint64,uint64,uint64)` ABI method
        
        :param algokit_utils.TransactionParameters transaction_parameters: (optional) Additional transaction parameters
        :returns Composer: This Composer instance"""

        args = EndContractArgs()
        self.app_client.compose_delete(
            self.atc,
            call_abi_method=args.method(),
            transaction_parameters=_convert_transaction_parameters(transaction_parameters),
            **_as_dict(args, convert_all=True),
        )
        return self

    def clear_state(
        self,
        transaction_parameters: algokit_utils.TransactionParameters | None = None,
        app_args: list[bytes] | None = None,
    ) -> "Composer":
        """Adds a call to the application with on completion set to ClearState
    
        :param algokit_utils.TransactionParameters transaction_parameters: (optional) Additional transaction parameters
        :param list[bytes] | None app_args: (optional) Application args to pass"""
    
        self.app_client.compose_clear_state(self.atc, _convert_transaction_parameters(transaction_parameters), app_args)
        return self


class DelegatorContractClient:
    """
        Contract between a user, i.e. delegator, and node runner, i.e. valdiator, for the latter to participate in consensus
        on the behalf of the user for specific amount of time and for a specific fee.
        The contract terms are defined in this contract.
    
        Global state
        ------------
            Configuration parameters
            ------------------------
    
    
            Variables
            ---------
    
        Methods
        -------
    
        
    
    A class for interacting with the DelegatorContract app providing high productivity and
    strongly typed methods to deploy and call the app"""

    @typing.overload
    def __init__(
        self,
        algod_client: algosdk.v2client.algod.AlgodClient,
        *,
        app_id: int = 0,
        signer: TransactionSigner | algokit_utils.Account | None = None,
        sender: str | None = None,
        suggested_params: algosdk.transaction.SuggestedParams | None = None,
        template_values: algokit_utils.TemplateValueMapping | None = None,
        app_name: str | None = None,
    ) -> None:
        ...

    @typing.overload
    def __init__(
        self,
        algod_client: algosdk.v2client.algod.AlgodClient,
        *,
        creator: str | algokit_utils.Account,
        indexer_client: algosdk.v2client.indexer.IndexerClient | None = None,
        existing_deployments: algokit_utils.AppLookup | None = None,
        signer: TransactionSigner | algokit_utils.Account | None = None,
        sender: str | None = None,
        suggested_params: algosdk.transaction.SuggestedParams | None = None,
        template_values: algokit_utils.TemplateValueMapping | None = None,
        app_name: str | None = None,
    ) -> None:
        ...

    def __init__(
        self,
        algod_client: algosdk.v2client.algod.AlgodClient,
        *,
        creator: str | algokit_utils.Account | None = None,
        indexer_client: algosdk.v2client.indexer.IndexerClient | None = None,
        existing_deployments: algokit_utils.AppLookup | None = None,
        app_id: int = 0,
        signer: TransactionSigner | algokit_utils.Account | None = None,
        sender: str | None = None,
        suggested_params: algosdk.transaction.SuggestedParams | None = None,
        template_values: algokit_utils.TemplateValueMapping | None = None,
        app_name: str | None = None,
    ) -> None:
        """
        DelegatorContractClient can be created with an app_id to interact with an existing application, alternatively
        it can be created with a creator and indexer_client specified to find existing applications by name and creator.
        
        :param AlgodClient algod_client: AlgoSDK algod client
        :param int app_id: The app_id of an existing application, to instead find the application by creator and name
        use the creator and indexer_client parameters
        :param str | Account creator: The address or Account of the app creator to resolve the app_id
        :param IndexerClient indexer_client: AlgoSDK indexer client, only required if deploying or finding app_id by
        creator and app name
        :param AppLookup existing_deployments:
        :param TransactionSigner | Account signer: Account or signer to use to sign transactions, if not specified and
        creator was passed as an Account will use that.
        :param str sender: Address to use as the sender for all transactions, will use the address associated with the
        signer if not specified.
        :param TemplateValueMapping template_values: Values to use for TMPL_* template variables, dictionary keys should
        *NOT* include the TMPL_ prefix
        :param str | None app_name: Name of application to use when deploying, defaults to name defined on the
        Application Specification
            """

        self.app_spec = APP_SPEC
        
        # calling full __init__ signature, so ignoring mypy warning about overloads
        self.app_client = algokit_utils.ApplicationClient(  # type: ignore[call-overload, misc]
            algod_client=algod_client,
            app_spec=self.app_spec,
            app_id=app_id,
            creator=creator,
            indexer_client=indexer_client,
            existing_deployments=existing_deployments,
            signer=signer,
            sender=sender,
            suggested_params=suggested_params,
            template_values=template_values,
            app_name=app_name,
        )

    @property
    def algod_client(self) -> algosdk.v2client.algod.AlgodClient:
        return self.app_client.algod_client

    @property
    def app_id(self) -> int:
        return self.app_client.app_id

    @app_id.setter
    def app_id(self, value: int) -> None:
        self.app_client.app_id = value

    @property
    def app_address(self) -> str:
        return self.app_client.app_address

    @property
    def sender(self) -> str | None:
        return self.app_client.sender

    @sender.setter
    def sender(self, value: str) -> None:
        self.app_client.sender = value

    @property
    def signer(self) -> TransactionSigner | None:
        return self.app_client.signer

    @signer.setter
    def signer(self, value: TransactionSigner) -> None:
        self.app_client.signer = value

    @property
    def suggested_params(self) -> algosdk.transaction.SuggestedParams | None:
        return self.app_client.suggested_params

    @suggested_params.setter
    def suggested_params(self, value: algosdk.transaction.SuggestedParams | None) -> None:
        self.app_client.suggested_params = value

    def get_global_state(self) -> GlobalState:
        """Returns the application's global state wrapped in a strongly typed class with options to format the stored value"""

        state = typing.cast(dict[bytes, bytes | int], self.app_client.get_global_state(raw=True))
        return GlobalState(state)

    def set_mandatory(
        self,
        *,
        val_config_man: ValConfigMan,
        transaction_parameters: algokit_utils.TransactionParameters | None = None,
    ) -> algokit_utils.ABITransactionResponse[None]:
        """Calls `set_mandatory((uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64))void` ABI method
        
        :param ValConfigMan val_config_man: The `val_config_man` ABI parameter
        :param algokit_utils.TransactionParameters transaction_parameters: (optional) Additional transaction parameters
        :returns algokit_utils.ABITransactionResponse[None]: The result of the transaction"""

        args = SetMandatoryArgs(
            val_config_man=val_config_man,
        )
        result = self.app_client.call(
            call_abi_method=args.method(),
            transaction_parameters=_convert_call_transaction_parameters(transaction_parameters),
            **_as_dict(args, convert_all=True),
        )
        return result

    def set_extra(
        self,
        *,
        val_config_extra: ValConfigExtra,
        transaction_parameters: algokit_utils.TransactionParameters | None = None,
    ) -> algokit_utils.ABITransactionResponse[None]:
        """Calls `set_extra((byte[30],byte[70]))void` ABI method
        
        :param ValConfigExtra val_config_extra: The `val_config_extra` ABI parameter
        :param algokit_utils.TransactionParameters transaction_parameters: (optional) Additional transaction parameters
        :returns algokit_utils.ABITransactionResponse[None]: The result of the transaction"""

        args = SetExtraArgs(
            val_config_extra=val_config_extra,
        )
        result = self.app_client.call(
            call_abi_method=args.method(),
            transaction_parameters=_convert_call_transaction_parameters(transaction_parameters),
            **_as_dict(args, convert_all=True),
        )
        return result

    def deposit_keys(
        self,
        *,
        sel_key: bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int],
        vote_key: bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int],
        state_proof_key: bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int],
        vote_key_dilution: int,
        round_start: int,
        round_end: int,
        transaction_parameters: algokit_utils.TransactionParameters | None = None,
    ) -> algokit_utils.ABITransactionResponse[int]:
        """Calls `deposit_keys(byte[32],byte[32],byte[64],uint64,uint64,uint64)uint64` ABI method
        
        :param bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int] sel_key: The `sel_key` ABI parameter
        :param bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int] vote_key: The `vote_key` ABI parameter
        :param bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int] state_proof_key: The `state_proof_key` ABI parameter
        :param int vote_key_dilution: The `vote_key_dilution` ABI parameter
        :param int round_start: The `round_start` ABI parameter
        :param int round_end: The `round_end` ABI parameter
        :param algokit_utils.TransactionParameters transaction_parameters: (optional) Additional transaction parameters
        :returns algokit_utils.ABITransactionResponse[int]: The result of the transaction"""

        args = DepositKeysArgs(
            sel_key=sel_key,
            vote_key=vote_key,
            state_proof_key=state_proof_key,
            vote_key_dilution=vote_key_dilution,
            round_start=round_start,
            round_end=round_end,
        )
        result = self.app_client.call(
            call_abi_method=args.method(),
            transaction_parameters=_convert_call_transaction_parameters(transaction_parameters),
            **_as_dict(args, convert_all=True),
        )
        return result

    def confirm_keys(
        self,
        *,
        fee_operation_payment_amount: int,
        sel_key: bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int],
        vote_key: bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int],
        state_proof_key: bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int],
        vote_key_dilution: int,
        round_start: int,
        round_end: int,
        transaction_parameters: algokit_utils.TransactionParameters | None = None,
    ) -> algokit_utils.ABITransactionResponse[int]:
        """Calls `confirm_keys(uint64,byte[32],byte[32],byte[64],uint64,uint64,uint64)uint64` ABI method
        
        :param int fee_operation_payment_amount: The `fee_operation_payment_amount` ABI parameter
        :param bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int] sel_key: The `sel_key` ABI parameter
        :param bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int] vote_key: The `vote_key` ABI parameter
        :param bytes | bytearray | tuple[int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int] state_proof_key: The `state_proof_key` ABI parameter
        :param int vote_key_dilution: The `vote_key_dilution` ABI parameter
        :param int round_start: The `round_start` ABI parameter
        :param int round_end: The `round_end` ABI parameter
        :param algokit_utils.TransactionParameters transaction_parameters: (optional) Additional transaction parameters
        :returns algokit_utils.ABITransactionResponse[int]: The result of the transaction"""

        args = ConfirmKeysArgs(
            fee_operation_payment_amount=fee_operation_payment_amount,
            sel_key=sel_key,
            vote_key=vote_key,
            state_proof_key=state_proof_key,
            vote_key_dilution=vote_key_dilution,
            round_start=round_start,
            round_end=round_end,
        )
        result = self.app_client.call(
            call_abi_method=args.method(),
            transaction_parameters=_convert_call_transaction_parameters(transaction_parameters),
            **_as_dict(args, convert_all=True),
        )
        return result

    def stake_limit_breach(
        self,
        *,
        transaction_parameters: algokit_utils.TransactionParameters | None = None,
    ) -> algokit_utils.ABITransactionResponse[bool]:
        """Anyone can trigger storing of a stake limit breach event.
        
        Calls `stake_limit_breach()bool` ABI method
        
        :param algokit_utils.TransactionParameters transaction_parameters: (optional) Additional transaction parameters
        :returns algokit_utils.ABITransactionResponse[bool]: The result of the transaction"""

        args = StakeLimitBreachArgs()
        result = self.app_client.call(
            call_abi_method=args.method(),
            transaction_parameters=_convert_call_transaction_parameters(transaction_parameters),
            **_as_dict(args, convert_all=True),
        )
        return result

    def dereg_breach(
        self,
        *,
        transaction_parameters: algokit_utils.TransactionParameters | None = None,
    ) -> algokit_utils.ABITransactionResponse[bool]:
        """Work in progress
        
        Calls `dereg_breach()bool` ABI method
        
        :param algokit_utils.TransactionParameters transaction_parameters: (optional) Additional transaction parameters
        :returns algokit_utils.ABITransactionResponse[bool]: The result of the transaction"""

        args = DeregBreachArgs()
        result = self.app_client.call(
            call_abi_method=args.method(),
            transaction_parameters=_convert_call_transaction_parameters(transaction_parameters),
            **_as_dict(args, convert_all=True),
        )
        return result

    def create_create(
        self,
        *,
        del_acc: str,
        noticeboard_app_id: int,
        round_start: int,
        round_end: int,
        on_complete: typing.Literal["no_op"] = "no_op",
        transaction_parameters: algokit_utils.CreateTransactionParameters | None = None,
    ) -> algokit_utils.ABITransactionResponse[None]:
        """Calls `create(address,uint64,uint64,uint64)void` ABI method
        
        :param str del_acc: The `del_acc` ABI parameter
        :param int noticeboard_app_id: The `noticeboard_app_id` ABI parameter
        :param int round_start: The `round_start` ABI parameter
        :param int round_end: The `round_end` ABI parameter
        :param typing.Literal[no_op] on_complete: On completion type to use
        :param algokit_utils.CreateTransactionParameters transaction_parameters: (optional) Additional transaction parameters
        :returns algokit_utils.ABITransactionResponse[None]: The result of the transaction"""

        args = CreateArgs(
            del_acc=del_acc,
            noticeboard_app_id=noticeboard_app_id,
            round_start=round_start,
            round_end=round_end,
        )
        result = self.app_client.create(
            call_abi_method=args.method(),
            transaction_parameters=_convert_create_transaction_parameters(transaction_parameters, on_complete),
            **_as_dict(args, convert_all=True),
        )
        return result

    def delete_keys_not_generated(
        self,
        *,
        transaction_parameters: algokit_utils.TransactionParameters | None = None,
    ) -> algokit_utils.ABITransactionResponse[Struct2UInt64]:
        """Calls `keys_not_generated()(uint64,uint64)` ABI method
        
        :param algokit_utils.TransactionParameters transaction_parameters: (optional) Additional transaction parameters
        :returns algokit_utils.ABITransactionResponse[Struct2UInt64]: The result of the transaction"""

        args = KeysNotGeneratedArgs()
        result = self.app_client.delete(
            call_abi_method=args.method(),
            transaction_parameters=_convert_transaction_parameters(transaction_parameters),
            **_as_dict(args, convert_all=True),
        )
        elements = self.app_spec.hints[args.method()].structs["output"]["elements"]
        result_dict = {element[0]: value for element, value in zip(elements, result.return_value)}
        result.return_value = Struct2UInt64(**result_dict)
        return result

    def delete_keys_not_confirmed(
        self,
        *,
        transaction_parameters: algokit_utils.TransactionParameters | None = None,
    ) -> algokit_utils.ABITransactionResponse[Struct2UInt64]:
        """Calls `keys_not_confirmed()(uint64,uint64)` ABI method
        
        :param algokit_utils.TransactionParameters transaction_parameters: (optional) Additional transaction parameters
        :returns algokit_utils.ABITransactionResponse[Struct2UInt64]: The result of the transaction"""

        args = KeysNotConfirmedArgs()
        result = self.app_client.delete(
            call_abi_method=args.method(),
            transaction_parameters=_convert_transaction_parameters(transaction_parameters),
            **_as_dict(args, convert_all=True),
        )
        elements = self.app_spec.hints[args.method()].structs["output"]["elements"]
        result_dict = {element[0]: value for element, value in zip(elements, result.return_value)}
        result.return_value = Struct2UInt64(**result_dict)
        return result

    def delete_end_contract(
        self,
        *,
        transaction_parameters: algokit_utils.TransactionParameters | None = None,
    ) -> algokit_utils.ABITransactionResponse[Struct3UInt64]:
        """Calls `end_contract()(uint64,uint64,uint64)` ABI method
        
        :param algokit_utils.TransactionParameters transaction_parameters: (optional) Additional transaction parameters
        :returns algokit_utils.ABITransactionResponse[Struct3UInt64]: The result of the transaction"""

        args = EndContractArgs()
        result = self.app_client.delete(
            call_abi_method=args.method(),
            transaction_parameters=_convert_transaction_parameters(transaction_parameters),
            **_as_dict(args, convert_all=True),
        )
        elements = self.app_spec.hints[args.method()].structs["output"]["elements"]
        result_dict = {element[0]: value for element, value in zip(elements, result.return_value)}
        result.return_value = Struct3UInt64(**result_dict)
        return result

    def clear_state(
        self,
        transaction_parameters: algokit_utils.TransactionParameters | None = None,
        app_args: list[bytes] | None = None,
    ) -> algokit_utils.TransactionResponse:
        """Calls the application with on completion set to ClearState
    
        :param algokit_utils.TransactionParameters transaction_parameters: (optional) Additional transaction parameters
        :param list[bytes] | None app_args: (optional) Application args to pass
        :returns algokit_utils.TransactionResponse: The result of the transaction"""
    
        return self.app_client.clear_state(_convert_transaction_parameters(transaction_parameters), app_args)

    def deploy(
        self,
        version: str | None = None,
        *,
        signer: TransactionSigner | None = None,
        sender: str | None = None,
        allow_update: bool | None = None,
        allow_delete: bool | None = None,
        on_update: algokit_utils.OnUpdate = algokit_utils.OnUpdate.Fail,
        on_schema_break: algokit_utils.OnSchemaBreak = algokit_utils.OnSchemaBreak.Fail,
        template_values: algokit_utils.TemplateValueMapping | None = None,
        create_args: DeployCreate[CreateArgs],
        update_args: algokit_utils.DeployCallArgs | None = None,
        delete_args: Deploy[KeysNotGeneratedArgs | KeysNotConfirmedArgs | EndContractArgs],
    ) -> algokit_utils.DeployResponse:
        """Deploy an application and update client to reference it.
        
        Idempotently deploy (create, update/delete if changed) an app against the given name via the given creator
        account, including deploy-time template placeholder substitutions.
        To understand the architecture decisions behind this functionality please see
        <https://github.com/algorandfoundation/algokit-cli/blob/main/docs/architecture-decisions/2023-01-12_smart-contract-deployment.md>
        
        ```{note}
        If there is a breaking state schema change to an existing app (and `on_schema_break` is set to
        'ReplaceApp' the existing app will be deleted and re-created.
        ```
        
        ```{note}
        If there is an update (different TEAL code) to an existing app (and `on_update` is set to 'ReplaceApp')
        the existing app will be deleted and re-created.
        ```
        
        :param str version: version to use when creating or updating app, if None version will be auto incremented
        :param algosdk.atomic_transaction_composer.TransactionSigner signer: signer to use when deploying app
        , if None uses self.signer
        :param str sender: sender address to use when deploying app, if None uses self.sender
        :param bool allow_delete: Used to set the `TMPL_DELETABLE` template variable to conditionally control if an app
        can be deleted
        :param bool allow_update: Used to set the `TMPL_UPDATABLE` template variable to conditionally control if an app
        can be updated
        :param OnUpdate on_update: Determines what action to take if an application update is required
        :param OnSchemaBreak on_schema_break: Determines what action to take if an application schema requirements
        has increased beyond the current allocation
        :param dict[str, int|str|bytes] template_values: Values to use for `TMPL_*` template variables, dictionary keys
        should *NOT* include the TMPL_ prefix
        :param DeployCreate[CreateArgs] create_args: Arguments used when creating an application
        :param algokit_utils.DeployCallArgs | None update_args: Arguments used when updating an application
        :param Deploy[KeysNotGeneratedArgs | KeysNotConfirmedArgs | EndContractArgs] delete_args: Arguments used when deleting an application
        :return DeployResponse: details action taken and relevant transactions
        :raises DeploymentError: If the deployment failed"""

        return self.app_client.deploy(
            version,
            signer=signer,
            sender=sender,
            allow_update=allow_update,
            allow_delete=allow_delete,
            on_update=on_update,
            on_schema_break=on_schema_break,
            template_values=template_values,
            create_args=_convert_deploy_args(create_args),
            update_args=_convert_deploy_args(update_args),
            delete_args=_convert_deploy_args(delete_args),
        )

    def compose(self, atc: AtomicTransactionComposer | None = None) -> Composer:
        return Composer(self.app_client, atc or AtomicTransactionComposer())
